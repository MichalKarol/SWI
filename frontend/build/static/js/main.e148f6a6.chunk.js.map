{"version":3,"sources":["auth.jsx","search.jsx","views/Login.jsx","components/StyledComponents.jsx","components/Dropdown.jsx","components/Header.jsx","components/UserBar.jsx","components/DateField.jsx","components/ResultCard.jsx","components/ExpansionPanel.jsx","components/InfiniteScroll.jsx","authenticated-io.jsx","globals.js","views/Search.jsx","views/Document.jsx","views/FavouriteList.jsx","views/Register.jsx","views/authenticated-routes.jsx","App.jsx","serviceWorker.js","index.js"],"names":["AuthenticationContext","React","createContext","token","setToken","_","generateQueryParams","searchState","searchParams","URLSearchParams","Object","entries","key","value","set","console","log","toString","SearchContext","state","setState","Login","authContext","useContext","history","useHistory","useState","username","password","auth","setAuth","Copyright","Typography","variant","color","align","href","Date","getFullYear","classes","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","useStyles","Container","component","maxWidth","CssBaseline","className","Avatar","noValidate","onSubmit","event","fetch","method","body","JSON","stringify","headers","then","res","json","push","catch","preventDefault","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","onChange","e","target","s","type","FormControlLabel","control","Checkbox","Button","Grid","container","item","xs","Link","to","Box","mt","StyledSearchButton","withStyles","root","borderRadius","boxShadow","textTransform","fontWeight","StyledElementButton","fontStyle","fontSize","StyledBackButton","StyledSideButton","StyledDivider","Divider","StyledInputBase","paddingLeft","InputBase","StyledMoreButton","WhiteExpandMoreIcon","ExpandMore","YellowStarIcon","Star","WhiteExpandMoreIconWithMargin","ArrowBackIcon","marginRight","CenteredTypography","textAlign","StyledTodayIcon","Today","FavouritesDiv","styled","div","InfoDiv","CardsDiv","SearchDiv","FiltersDiv","ResultsDiv","CalendarDiv","DividerDiv","Dropdown","props","Select","IconComponent","MenuProps","getContentAnchorEl","anchorOrigin","vertical","disableUnderline","displayEmpty","values","length","map","el","idx","MenuItem","StyledFieldDropdown","textIndent","justifyContent","alignSelf","StyledSortDropdown","HeaderForm","HeaderDiv","StyleSearchBar","handleValueChanged","Header","searchContext","query","text","setText","new_state","field","placeholder","endIcon","Search","size","UserBarDiv","UserBar","startIcon","style","onClick","undefined","StyledUpperDate","padding","KeyboardDatePicker","StyledLowerDate","UpperDateField","utils","DateFnsUtils","disableToolbar","format","onDateChange","InputProps","keyboardIcon","LowerDateField","ContentDiv","ResultCard","StyledCard","Card","ClampedTypography","overflow","CardContent","gutterBottom","title","flex","contents","IconButton","onFavouriteClick","isFavourite","onShowMoreClick","CheckboxContainer","Panel","borderBottom","marginBottom","expanded","ExpansionPanel","PanelSummary","ExpansionPanelSummary","PanelDetails","overflowY","maxHeight","paddingTop","overflowX","ExpansionPanelDetails","ExpandingMultiSelectDropdown","summaryRadius","setSummaryRadius","panelRadius","setPanelRadius","square","expandIcon","tooltip","checked","elementSelected","context","indexOf","InfiniteScroll","cardsDivRef","useRef","useEffect","onScroll","current","scrollTop","scrollHeight","clientHeight","callback","addEventListener","removeEventListener","position","height","ref","children","isLoading","generateSOLRQueryParams","queryParams","queryParts","dateFrom","dateTo","components","join","topics","topic","sort","trim","useAuthenticatedIO","logoutOnUnauthenticated","promise","status","window","location","getFavourites","changeFavourite","doc_id","search","search_context","offset","r","getDocuments","ids","COMPONENTS","a","b","toLowerCase","localeCompare","TOPICS","useLocation","setIsLoading","results","setResults","io","filter","date","toISOString","orientation","numFound","docs","newState","DocumentDiv","TextDiv","Document","result","setResult","FavouriteList","stars","setStars","page","setPage","newStars","star","slice","Math","max","Register","last_name","first_name","email","sm","justify","AuthenticatedRoutes","get","split","getInitSearchState","setSearchState","createMuiTheme","primary","Provider","path","GridLayout","render","match","params","GridLayoutDiv","App","localStorage","getItem","setItem","Boolean","hostname","ReactDOM","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"2QAEaA,G,cAAwBC,IAAMC,cAAc,CACvDC,MAAO,GACPC,SAAU,SAACC,Q,wBCFN,SAASC,EAAoBC,GAElC,IADA,IAAMC,EAAe,IAAIC,gBACzB,MAA2BC,OAAOC,QAAQJ,GAA1C,eAAwD,CAAC,IAAD,sBAA5CK,EAA4C,KAAvCC,EAAuC,KAClDA,GACFL,EAAaM,IAAIF,EAAKC,GAI1B,OADAE,QAAQC,IAAI,eAAgBR,GACrBA,EAAaS,WAsBf,IAAMC,EAAgBhB,wBAAc,CACzCiB,MAAO,GACPC,SAAU,SAACf,O,oIChBN,SAASgB,IACd,IAAMC,EAAcC,qBAAWvB,GACzBwB,EAAUC,cAFM,EAGEC,mBAAS,CAC/BC,SAAU,GACVC,SAAU,KALU,mBAGfC,EAHe,KAGTC,EAHS,KAQtB,SAASC,IACP,OACI,kBAACC,EAAA,EAAD,CAAYC,QAAQ,QAAQC,MAAM,gBAAgBC,MAAM,UACrD,kBACD,kBAAC,IAAD,CAAMD,MAAM,UAAUE,KAAK,4BAA3B,gBAGC,IAAIC,MAAOC,eAKpB,IAoBMC,EApBYC,aAAW,SAACC,GAAD,MAAY,CACvCC,MAAO,CACLC,UAAWF,EAAMG,QAAQ,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEdC,OAAQ,CACNC,OAAQR,EAAMG,QAAQ,GACtBM,gBAAiBT,EAAMU,QAAQC,UAAUC,MAE3CC,KAAM,CACJC,MAAO,OACPZ,UAAWF,EAAMG,QAAQ,IAE3BY,OAAQ,CACNP,OAAQR,EAAMG,QAAQ,EAAG,EAAG,OAIhBa,GAEhB,OACI,kBAACC,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,MACnC,kBAACC,EAAA,EAAD,MACA,yBAAKC,UAAWvB,EAAQG,OACtB,kBAACqB,EAAA,EAAD,CAAQD,UAAWvB,EAAQS,QACzB,kBAAC,IAAD,OAEF,kBAAChB,EAAA,EAAD,CAAY2B,UAAU,KAAK1B,QAAQ,MAAnC,WAGA,0BACI6B,UAAWvB,EAAQe,KACnBU,YAAU,EACVC,SAAU,SAACC,GACTC,MAAM,aAAc,CAClBC,OAAQ,OACRC,KAAMC,KAAKC,UAAU1C,GACrB2C,QAAS,CAAC,CAAC,eAAgB,uBAExBC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACC,GACL5C,EAAQ,CAACH,SAAU,GAAIC,SAAU,KACjCN,EAAYlB,SAASsE,EAAIvE,OACzBqB,EAAQoD,KAAK,cAEdC,OAAM,eAIXX,EAAMY,mBAGV,kBAACC,EAAA,EAAD,CACI9C,QAAQ,WACRgB,OAAO,SACP+B,UAAQ,EACRC,WAAS,EACTC,GAAG,WACHC,MAAM,WACNC,KAAK,WACLC,aAAa,WACbC,WAAS,EACTzE,MAAOgB,EAAKF,SACZ4D,SAAU,SAACC,GACT,IAAM3E,EAAQ2E,EAAEC,OAAO5E,MACvBiB,GAAQ,SAAC4D,GAAD,mBAAC,eAAWA,GAAZ,IAAe/D,SAAUd,UAGvC,kBAACkE,EAAA,EAAD,CACI9C,QAAQ,WACRgB,OAAO,SACP+B,UAAQ,EACRC,WAAS,EACTG,KAAK,WACLD,MAAM,WACNQ,KAAK,WACLT,GAAG,WACHG,aAAa,mBACbxE,MAAOgB,EAAKD,SACZ2D,SAAU,SAACC,GACT,IAAM3E,EAAQ2E,EAAEC,OAAO5E,MACvBiB,GAAQ,SAAC4D,GAAD,mBAAC,eAAWA,GAAZ,IAAe9D,SAAUf,UAGvC,kBAAC+E,EAAA,EAAD,CACIC,QAAS,kBAACC,EAAA,EAAD,CAAUjF,MAAM,WAAWqB,MAAM,YAC1CiD,MAAM,gBAEV,kBAACY,EAAA,EAAD,CACId,WAAS,EACThD,QAAQ,YACRC,MAAM,UACNyD,KAAK,SACL7B,UAAWvB,EAAQiB,QALvB,WASA,kBAACwC,EAAA,EAAD,CAAMC,WAAS,GACb,kBAACD,EAAA,EAAD,CAAME,MAAI,EAACC,IAAE,IAKb,kBAACH,EAAA,EAAD,CAAME,MAAI,GACR,kBAACE,EAAA,EAAD,CAAWnE,QAAQ,SACjB,kBAAC,IAAD,CAAMoE,GAAG,aAAT,uCAMV,kBAACC,EAAA,EAAD,CAAKC,GAAI,GACP,kBAACxE,EAAD,Q,y1DChJH,IAAMyE,EAAqBC,IAAW,CAC3CC,KAAM,CACJnD,MAAO,QACPoD,aAAc,YACdC,UACI,mEACJC,cAAe,OACfC,WAAY,SAPkBL,CAS/BV,KAEUgB,EAAsBN,IAAW,CAC5CC,KAAM,CACJC,aAAc,cACdK,UAAW,SACXC,SAAU,OACVhE,OAAQ,gBACR2D,UACI,qEAP2BH,CAShCV,KAEUmB,GAAmBT,IAAW,CACzCC,KAAM,CACJzD,OAAQ,mBACR0D,aAAc,cACdK,UAAW,SACXC,SAAU,OACVL,UACI,qEAPwBH,CAS7BV,KAEUoB,GAAmBV,IAAW,CACzCC,KAAM,CACJC,aAAc,cACdK,UAAW,SACXJ,UACI,mEACJ3D,OAAQ,QANoBwD,CAQ7BV,KAEUqB,GAAgBX,IAAW,CACtCC,KAAM,CACJxD,gBAAiB,UAFQuD,CAI1BY,KAEUC,GAAkBb,IAAW,CACxCC,KAAM,CACJM,UAAW,SACXC,SAAU,OACV/D,gBAAiB,UACjBqE,YAAa,QACbX,UACI,qEAPuBH,CAS5Be,KAEUC,GAAmBhB,IAAW,CACzCC,KAAM,CACJC,aAAc,cACdK,UAAW,SACXC,SAAU,OACVL,UACI,qEANwBH,CAQ7BV,KAEU2B,GAAsBjB,IAAW,CAC5CC,KAAM,CACJxE,MAAO,uBAFwBuE,CAIhCkB,KAEUC,GAAiBnB,IAAW,CACvCC,KAAM,CACJxE,MAAO,oBAFmBuE,CAI3BoB,KAQUC,IANgBrB,IAAW,CACtCC,KAAM,CACJxE,MAAO,qBAFkBuE,CAI1BsB,KAE0CtB,IAAW,CACtDC,KAAM,CACJxE,MAAO,qBACP8F,YAAa,SAH4BvB,CAK1CkB,MAEUM,GAAqBxB,IAAW,CAC3CC,KAAM,CACJzD,OAAQ,mBACRiF,UAAW,WAHmBzB,CAK/BzE,KAEUmG,GAAkB1B,IAAW,CACtCC,KAAM,CACFxE,MAAO,uBAFgBuE,CAI5B2B,KAYUC,IAVyBC,IAAOC,IAAV,KAUND,IAAOC,IAAV,MAUbC,GAAUF,IAAOC,IAAV,KAgBPE,IANWH,IAAOC,IAAV,KAMGD,IAAOC,IAAV,MAMRG,GAAYJ,IAAOC,IAAV,KAOTI,GAAaL,IAAOC,IAAV,KAKVK,GAAaN,IAAOC,IAAV,KAWVM,GAAcP,IAAOC,IAAV,KAKXO,GAAaR,IAAOC,IAAV,KCrLhB,SAASQ,GAASC,GACvB,OACI,kBAACC,EAAA,EAAD,eACIC,cAAepB,GACfqB,UAAW,CACTC,mBAAoB,KACpBC,aAAc,CACZC,SAAU,WAGdC,kBAAgB,EAChBC,aAAsC,IAAxBR,EAAMS,OAAOC,QACvBV,GAELA,EAAMS,OAAOE,KAAI,SAACC,EAAIC,GAAL,OACd,kBAACC,EAAA,EAAD,CAAUjJ,MAAO+I,EAAG/I,MAAOD,IAAKiJ,GAC7BD,EAAGzE,WAOX,IAAM4E,GAAsBtD,IAAW,CAC5CC,KAAM,CACJC,aAAc,uBACdzD,gBAAiB,qBACjBhB,MAAO,UACP8H,WAAY,QACZ/C,SAAU,OACVpE,QAAS,OACTE,WAAY,SACZkH,eAAgB,SAChBC,UAAW,SACXtD,UACI,mEACJrD,MAAO,UAbwBkD,CAehCsC,IAEUoB,GAAqB1D,IAAW,CAC3CC,KAAM,CACJC,aAAc,mBACdzD,gBAAiB,qBACjBhB,MAAO,UACP8H,WAAY,QACZpD,UACI,mEACJrD,MAAO,QACP2E,UAAW,WATmBzB,CAW/BsC,I,4TChDH,IAAMqB,GAAa9B,IAAOhF,KAAV,MAIV+G,GAAY/B,IAAOC,IAAV,MASf,SAAS+B,GAAetB,GACtB,OACE,kBAAC1B,GAAD,CACErC,WAAS,EACTE,MAAO6D,EAAM7D,MACbC,KAAM4D,EAAM5D,KACZvE,MAAOmI,EAAMnI,MACb0E,SAAUyD,EAAMuB,qBAKf,SAASC,KACd,IAAMC,EAAgBlJ,qBAAWL,GAC3BM,EAAUC,cAFO,EAGCC,mBAAS+I,EAActJ,MAAMuJ,OAAS,IAHvC,mBAGhBC,EAHgB,KAGVC,EAHU,KAKvB,OACE,kBAACR,GAAD,CACEnG,SAAU,SAACC,GACT,IAAM2G,EAAS,2BACVJ,EAActJ,OADJ,IAEbuJ,MAAOC,IAETF,EAAcrJ,SAASyJ,GACvBrJ,EAAQoD,KAAR,kBAAwBtE,EAAoBuK,KAC5C3G,EAAMY,mBAGR,kBAACuF,GAAD,CAAWvG,UAAU,uBACnB,kBAACiG,GAAD,CACEN,OAAQ,CACN,CAAE5I,MAAO,IAAKsE,MAAO,cACrB,CAAEtE,MAAO,QAASsE,MAAO,SACzB,CAAEtE,MAAO,WAAYsE,MAAO,YAE9BtE,MAAO4J,EAActJ,MAAM2J,OAAS,GACpCvF,SAAU,SAACrB,GACT,IAAMrD,EAAQqD,EAAMuB,OAAO5E,MAC3B4J,EAAcrJ,UAAS,SAACD,GAAD,mBAAC,eAAgBA,GAAjB,IAAwB2J,MAAOjK,UAG1D,kBAACyJ,GAAD,CACES,YAAY,iBACZlK,MAAO8J,EACPJ,mBAAoB,SAACrG,GACnB,IAAMrD,EAAQqD,EAAMuB,OAAO5E,MAC3B+J,EAAQ/J,MAGZ,kBAAC2F,EAAD,CACEvE,QAAQ,YACRC,MAAM,YACN8I,QAAS,kBAACC,GAAA,EAAD,MACTC,KAAK,QACLvF,KAAK,UALP,Y,2MChER,IAAMwF,GAAa7C,IAAOC,IAAV,MAQT,SAAS6C,GAAQpC,GACpB,IAAM1H,EAAcC,qBAAWvB,GACzBwB,EAAUC,cAChB,OACI,kBAAC0J,GAAD,KACI,kBAAChE,GAAD,CACIlF,QAAQ,YACRC,MAAM,YACNmJ,UAAW,kBAAC,KAAD,CAAmBC,MAAO,CAACrE,SAAU,MAChDsE,QAAS,WACLjK,EAAYlB,cAASoL,GACrBhK,EAAQoD,KAAK,cAGrB,kBAACuC,GAAD,CACIlF,QAAQ,YACRC,MAAM,YACNmJ,UAAW,kBAACzD,GAAD,CAAgB0D,MAAO,CAACrE,SAAU,MAC7CsE,QAAS,kBAAM/J,EAAQoD,KAAK,kB,iDCvBtC6G,GAAkBhF,IAAW,CAC/BC,KAAM,CACFxD,gBAAiB,UACjByD,aAAc,cACd5D,WAAY,SACZ6D,UACI,mEACJ8E,QAAS,gBAPOjF,CASrBkF,MAEGC,GAAkBnF,IAAW,CAC/BC,KAAM,CACFxD,gBAAiB,UACjByD,aAAc,cACd5D,WAAY,SACZ6D,UACI,mEACJ8E,QAAS,gBAPOjF,CASrBkF,MAEI,SAASE,GAAe7C,GAC3B,OACI,kBAAC,KAAD,CAAyB8C,MAAOC,MAC5B,kBAACN,GAAD,CACIO,gBAAc,EACd/J,QAAQ,SACRgK,OAAO,aACPpL,MAAOmI,EAAMnI,MACbkK,YAAa/B,EAAM+B,YACnBxF,SAAUyD,EAAMkD,aAChBC,WAAY,CACR5C,kBAAkB,EAClB+B,MAAO,CAACpJ,MAAO,SAEnBkK,aAAc,kBAACjE,GAAD,SAMvB,SAASkE,GAAerD,GAC3B,OACI,kBAAC,KAAD,CAAyB8C,MAAOC,MAC5B,kBAACH,GAAD,CACII,gBAAc,EACd/J,QAAQ,SACRgK,OAAO,aACPpL,MAAOmI,EAAMnI,MACbkK,YAAa/B,EAAM+B,YACnBxF,SAAUyD,EAAMkD,aAChBC,WAAY,CACR5C,kBAAkB,EAClB+B,MAAO,CAACpJ,MAAO,SAEnBkK,aAAc,kBAACjE,GAAD,S,oOC3D9B,IAAMmE,GAAahE,IAAOC,IAAV,MAOT,SAASgE,GAAWvD,GACzB,IAAMwD,EAAa/F,IAAW,CAC5BC,KAAM,CACJzD,OAAQ,OACRM,MAAO,OACPqD,UACI,qEALWH,CAOhBgG,MAEGC,EAAoBjG,IAAW,CACnCC,KAAM,CACJ7D,QAAS,cACT,qBAAsB,IACtB,qBAAsB,WACtB8J,SAAU,SACV,gBAAiB,aANKlG,CAQvBzE,KAEH,OACI,kBAACwK,EAAD,KACE,kBAACI,GAAA,EAAD,KACE,kBAAC5K,EAAA,EAAD,CAAYE,MAAM,YAAY2K,cAAY,GACvC7D,EAAM8D,OAET,kBAACR,GAAD,KACE,kBAACI,EAAD,CAAmBpB,MAAO,CAACyB,KAAM,OAC9B/D,EAAMgE,UAET,kBAACC,GAAA,EAAD,CACI3B,MAAO,CAACyB,KAAM,KACdxB,QAASvC,EAAMkE,iBACfvH,KAAK,UAENqD,EAAMmE,YACH,kBAACvF,GAAD,CAAgBX,SAAS,UAEzB,kBAAC,KAAD,CAAgBA,SAAS,WAG/B,kBAACQ,GAAD,CACIxF,QAAQ,YACRC,MAAM,YACNqJ,QAASvC,EAAMoE,gBACf9B,MAAO,CAACyB,KAAM,MAJlB,gB,kNCvCZ,IAAMM,GAAoB/E,IAAOC,IAAV,MAQjB+E,GAAQ7G,IAAW,CACvBC,KAAM,CACJ,qBAAsB,CACpB6G,aAAc,GAEhB,WAAY,CACV1K,QAAS,QAEX+D,UACE,mEACF1D,gBAAiB,UACjBK,MAAO,QACPiK,aAAc,QAEhBC,SAAU,IAdEhH,CAeXiH,MAEGC,GAAelH,IAAW,CAC9BC,KAAM,CACJxD,gBAAiB,UACjBhB,MAAO,UAGP0E,UACE,mEACF8E,QAAS,iBAEX+B,SAAU,IAVShH,CAWlBmH,MAIGC,GAAepH,IAAW,CAC9BC,KAAM,CACJxD,gBAAiB,UACjByD,aAAc,cACdmH,UAAW,SACXC,UAAW,QACXC,WAAY,MACZC,UAAW,WAPMxH,CASlByH,MAEI,SAASC,GAA6BnF,GAAQ,IAAD,EACRtH,mBAAS,mBADD,mBAC3C0M,EAD2C,KAC5BC,EAD4B,OAEZ3M,mBAAS,mBAFG,mBAE3C4M,EAF2C,KAE9BC,EAF8B,KAGlD,OACE,kBAACjB,GAAD,CACEkB,QAAM,EACNlD,MAAO,CAAE3E,aAAc2H,GACvB/I,SAAU,SAACrB,EAAOuJ,IACC,IAAbA,GACFY,EAAiB,eACjBE,EAAe,qBAEfF,EAAiB,mBACjBE,EAAe,sBAInB,kBAACZ,GAAD,CACEc,WAAY,kBAAC/G,GAAD,MACZ4D,MAAO,CAAE3E,aAAcyH,IAEvB,kBAACpM,EAAA,EAAD,KAAagH,EAAM8D,OACnB,kBAAC9K,EAAA,EAAD,KAAagH,EAAM0F,UAErB,kBAACb,GAAD,KACE,kBAACR,GAAD,KACGrE,EAAMS,OAAOE,KAAI,SAACC,EAAIC,GAAL,OAChB,yBAAKjJ,IAAKiJ,GACR,kBAACjE,EAAA,EAAD,CACEC,QAAS,kBAACC,EAAA,EAAD,CAAU5D,MAAM,cACzBrB,MAAO+I,EAAG/I,MACVsE,MAAOyE,EAAGzE,MACVI,SAAU,SAACrB,EAAOyK,GAAR,OACR3F,EAAM4F,gBAAgBD,EAAS/E,IAEjC+E,QAAS3F,EAAM6F,QAAQC,QAAQlF,EAAG/I,QAAU,IAE7CgJ,IAAQb,EAAMS,OAAOC,OAAS,GAAK,kBAACrC,EAAA,EAAD,aCtG3C,SAAS0H,GAAe/F,GAC7B,IAAMgG,EAAcC,iBAAO,MAuB3B,OArBAC,qBAAU,WACR,SAASC,IACP,GAAIH,EAAYI,QAAS,CACvB,IAAMC,EAAYL,EAAYI,QAAQC,UAChCC,EAAeN,EAAYI,QAAQE,aAErCD,EADiBL,EAAYI,QAAQG,aACT,EAAI,EAAKD,GACvCtG,EAAMwG,YAQZ,OAHAR,EAAYI,SACZJ,EAAYI,QAAQK,iBAAiB,SAAUN,GAExC,WACLH,EAAYI,SACZJ,EAAYI,QAAQM,oBAAoB,SAAUP,MAEnD,CAACH,EAAYI,QAASpG,EAAMwG,WAG3B,yBACIlE,MAAO,CACLqE,SAAU,WACVhD,SAAU,OACViD,OAAQ,OACRrM,MAAO,QAETsM,IAAKb,GAEP,yBAAK1D,MAAO,CAACqE,SAAU,aACpB3G,EAAM8G,SACN9G,EAAM+G,WAAa,qDCnC9B,SAASC,GAAwBvF,GAC/B,IAAMwF,EAAc,IAAIxP,gBAElByP,EAAU,CACdzF,EAAcC,MACc,MAAxBD,EAAcK,MACZL,EAAcC,MADhB,UAEKD,EAAcK,MAFnB,YAE4BL,EAAcC,OAC1C,OALU,oBAMVD,EAAc0F,UAAY1F,EAAc2F,OACxC,CAAC,SAAD,OACW3F,EAAc0F,SAAW1F,EAAc0F,SAAW,IAD7D,eAEI1F,EAAc2F,OAAS3F,EAAc2F,OAAS,IAFlD,MAKA,IAZU,aAaV3F,EAAc4F,WAAW3G,OAAS,EAClC,CAAC,eAAD,OACiBe,EAAc4F,WAAW1G,KAAI,SAAChG,GAAD,MAAe,IAAIA,EAAU,OAAK2M,KAAK,QADrF,MAGA,IAjBU,aAkBV7F,EAAc8F,OAAO7G,OAAS,EAE9B,CAAC,WAAD,OACee,EAAc8F,OAAO5G,KAAI,SAAC6G,GAAD,MAAW,IAAIA,EAAM,OAAKF,KAAK,QADvE,MAGA,KAON,OAJAL,EAAYnP,IAAI,IAAKoP,EAAWI,KAAK,SACjC7F,EAAcgG,KAAKC,QACrBT,EAAYnP,IAAI,OAAQ2J,EAAcgG,KAAKC,QAEtCT,EAGF,SAASU,KACd,IAAMrP,EAAcC,qBAAWvB,GAE/B,SAAS4Q,EAAwBC,GAC/B,OAAOA,EACFpM,MAAK,SAACC,GAKL,OAJmB,MAAfA,EAAIoM,SACNxP,EAAYlB,SAAS,IACrB2Q,OAAOC,SAAS5O,KAAO,KAElBsC,KAERG,OAAM,SAACH,GACNpD,EAAYlB,SAAS,IACrB2Q,OAAOC,SAAS5O,KAAO,OA+C/B,MAAO,CACL6O,cA5CF,WACE,OAAOL,EACHzM,MAAM,cAAe,CACnBC,OAAQ,MACRI,QAAS,CAAC,CAAC,gBAAD,gBAA2BlD,EAAYnB,YAErDsE,MAAK,SAACC,GAAD,OAASA,EAAIC,WAuCpBuM,gBApCF,SAAyBC,GACvB,OAAOhN,MAAM,cAAe,CAC1BC,OAAQ,OACRI,QAAS,CACP,CAAC,gBAAD,gBAA2BlD,EAAYnB,QACvC,CAAC,eAAgB,qBAEnBkE,KAAMC,KAAKC,UAAU,CACnB4M,cA6BJC,OAxBF,SAAgBC,GAA6B,IAAbC,EAAY,uDAAH,EACjCrB,EAAcD,GAAwBqB,GAE5C,OADApB,EAAYnP,IAAI,QAASwQ,GAClBV,EACHzM,MAAM,sBAAD,OAAuB8L,EAAYhP,YAAc,CACpDmD,OAAQ,MACRI,QAAS,CAAC,CAAC,gBAAD,gBAA2BlD,EAAYnB,YAErDsE,MAAK,SAAC8M,GAAD,OAAOA,EAAE5M,WAiBhB6M,aAdF,SAAsBC,GACpB,IAAM/G,EAAQ+G,EAAI9H,KAAI,SAACzE,GAAD,mBAAcA,MAAMoL,KAAK,QAC/C,OAAOM,EACHzM,MAAM,wBAAD,OAAyBuG,GAAS,CACrCtG,OAAQ,MACRI,QAAS,CAAC,CAAC,gBAAD,gBAA2BlD,EAAYnB,YAErDsE,MAAK,SAAC8M,GAAD,OAAOA,EAAE5M,YCjGb,IAAM+M,GAAa,CACxB,CACE7Q,MAAO,yBACPsE,MAAO,0BAET,CAAEtE,MAAO,uBAAwBsE,MAAO,wBACxC,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,mDACPsE,MAAO,oDAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,gCACPsE,MAAO,iCAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,wBACPsE,MAAO,yBAET,CACEtE,MAAO,6BACPsE,MAAO,8BAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,8BACPsE,MAAO,+BAET,CAAEtE,MAAO,sBAAuBsE,MAAO,uBACvC,CACEtE,MAAO,gCACPsE,MAAO,iCAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,0CACPsE,MAAO,2CAET,CAAEtE,MAAO,gBAAiBsE,MAAO,iBACjC,CAAEtE,MAAO,iBAAkBsE,MAAO,kBAClC,CACEtE,MAAO,qCACPsE,MAAO,sCAET,CACEtE,MAAO,iCACPsE,MAAO,kCAET,CACEtE,MAAO,uDACPsE,MAAO,wDAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,gCACPsE,MAAO,iCAET,CAAEtE,MAAO,uBAAwBsE,MAAO,wBACxC,CAAEtE,MAAO,eAAgBsE,MAAO,gBAChC,CACEtE,MAAO,+BACPsE,MAAO,gCAET,CAAEtE,MAAO,iBAAkBsE,MAAO,kBAClC,CAAEtE,MAAO,mBAAoBsE,MAAO,oBACpC,CACEtE,MAAO,yBACPsE,MAAO,0BAET,CAAEtE,MAAO,uBAAwBsE,MAAO,wBACxC,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,yBACPsE,MAAO,0BAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,gDACPsE,MAAO,iDAET,CAAEtE,MAAO,kBAAmBsE,MAAO,mBACnC,CACEtE,MAAO,4BACPsE,MAAO,6BAET,CACEtE,MAAO,0CACPsE,MAAO,2CAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,6BACPsE,MAAO,8BAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CAAEtE,MAAO,cAAesE,MAAO,eAC/B,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,wCACPsE,MAAO,yCAET,CACEtE,MAAO,4BACPsE,MAAO,6BAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,4CACPsE,MAAO,6CAET,CAAEtE,MAAO,oBAAqBsE,MAAO,qBACrC,CACEtE,MAAO,yBACPsE,MAAO,0BAET,CAAEtE,MAAO,oBAAqBsE,MAAO,qBACrC,CACEtE,MAAO,kCACPsE,MAAO,mCAET,CACEtE,MAAO,wBACPsE,MAAO,yBAET,CACEtE,MAAO,4BACPsE,MAAO,6BAET,CACEtE,MAAO,mCACPsE,MAAO,oCAET,CACEtE,MAAO,wBACPsE,MAAO,yBAET,CACEtE,MAAO,wBACPsE,MAAO,yBAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,4BACPsE,MAAO,6BAET,CACEtE,MAAO,iCACPsE,MAAO,kCAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,8BACPsE,MAAO,+BAET,CACEtE,MAAO,qCACPsE,MAAO,sCAET,CAAEtE,MAAO,iBAAkBsE,MAAO,kBAClC,CACEtE,MAAO,wBACPsE,MAAO,yBAET,CAAEtE,MAAO,kBAAmBsE,MAAO,mBACnC,CACEtE,MAAO,wBACPsE,MAAO,yBAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,iCACPsE,MAAO,kCAET,CACEtE,MAAO,8BACPsE,MAAO,+BAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CAAEtE,MAAO,eAAgBsE,MAAO,gBAChC,CAAEtE,MAAO,qBAAsBsE,MAAO,sBACtC,CACEtE,MAAO,6BACPsE,MAAO,8BAET,CACEtE,MAAO,sDACPsE,MAAO,uDAET,CACEtE,MAAO,6BACPsE,MAAO,8BAET,CACEtE,MAAO,mCACPsE,MAAO,oCAET,CACEtE,MAAO,wBACPsE,MAAO,yBAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,gEACPsE,MAAO,iEAET,CACEtE,MAAO,8BACPsE,MAAO,+BAET,CACEtE,MAAO,4BACPsE,MAAO,6BAET,CAAEtE,MAAO,iBAAkBsE,MAAO,kBAClC,CACEtE,MAAO,yBACPsE,MAAO,0BAET,CACEtE,MAAO,iCACPsE,MAAO,kCAET,CACEtE,MAAO,wBACPsE,MAAO,yBAET,CACEtE,MAAO,iCACPsE,MAAO,kCAET,CACEtE,MAAO,4BACPsE,MAAO,6BAET,CAAEtE,MAAO,iBAAkBsE,MAAO,kBAClC,CACEtE,MAAO,oCACPsE,MAAO,qCAET,CACEtE,MAAO,wBACPsE,MAAO,yBAET,CACEtE,MAAO,4BACPsE,MAAO,6BAET,CACEtE,MAAO,4BACPsE,MAAO,6BAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CAAEtE,MAAO,gBAAiBsE,MAAO,iBACjC,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,wBACPsE,MAAO,yBAET,CACEtE,MAAO,yBACPsE,MAAO,0BAET,CAAEtE,MAAO,qBAAsBsE,MAAO,sBACtC,CAAEtE,MAAO,gBAAiBsE,MAAO,iBACjC,CAAEtE,MAAO,eAAgBsE,MAAO,gBAChC,CAAEtE,MAAO,qBAAsBsE,MAAO,sBACtC,CACEtE,MAAO,oCACPsE,MAAO,qCAET,CACEtE,MAAO,8CACPsE,MAAO,+CAET,CACEtE,MAAO,+BACPsE,MAAO,gCAET,CACEtE,MAAO,wCACPsE,MAAO,yCAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,+BACPsE,MAAO,gCAET,CACEtE,MAAO,4DACPsE,MAAO,6DAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,mCACPsE,MAAO,oCAET,CACEtE,MAAO,kCACPsE,MAAO,mCAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,+CACPsE,MAAO,gDAET,CACEtE,MAAO,kCACPsE,MAAO,mCAET,CACEtE,MAAO,4BACPsE,MAAO,6BAET,CACEtE,MAAO,wBACPsE,MAAO,yBAET,CACEtE,MAAO,mCACPsE,MAAO,oCAET,CACEtE,MAAO,wCACPsE,MAAO,yCAET,CACEtE,MAAO,+BACPsE,MAAO,gCAET,CACEtE,MAAO,2CACPsE,MAAO,4CAET,CACEtE,MAAO,8BACPsE,MAAO,+BAET,CACEtE,MAAO,0BACPsE,MAAO,2BAET,CAAEtE,MAAO,gBAAiBsE,MAAO,iBACjC,CAAEtE,MAAO,kBAAmBsE,MAAO,mBACnC,CAAEtE,MAAO,kBAAmBsE,MAAO,mBACnC,CAAEtE,MAAO,gBAAiBsE,MAAO,iBACjC,CAAEtE,MAAO,uBAAwBsE,MAAO,wBACxC,CACEtE,MAAO,4BACPsE,MAAO,6BAET,CACEtE,MAAO,+BACPsE,MAAO,gCAET,CACEtE,MAAO,gCACPsE,MAAO,iCAET,CAAEtE,MAAO,oBAAqBsE,MAAO,qBACrC,CACEtE,MAAO,+BACPsE,MAAO,gCAET,CACEtE,MAAO,wBACPsE,MAAO,yBAET,CAAEtE,MAAO,sBAAuBsE,MAAO,uBACvC,CAAEtE,MAAO,sBAAuBsE,MAAO,uBACvC,CACEtE,MAAO,6CACPsE,MAAO,8CAET,CACEtE,MAAO,2CACPsE,MAAO,4CAET,CACEtE,MAAO,yBACPsE,MAAO,0BAET,CACEtE,MAAO,kCACPsE,MAAO,mCAET,CACEtE,MAAO,uDACPsE,MAAO,wDAET,CACEtE,MAAO,2BACPsE,MAAO,4BAET,CACEtE,MAAO,8BACPsE,MAAO,+BAET,CACEtE,MAAO,sCACPsE,MAAO,uCAET,CACEtE,MAAO,6DACPsE,MAAO,8DAET,CACEtE,MAAO,4BACPsE,MAAO,6BAET,CACEtE,MAAO,yCACPsE,MAAO,0CAET,CACEtE,MAAO,wCACPsE,MAAO,0CAETsL,MAAK,SAACkB,EAAGC,GAAJ,OAAUD,EAAExM,MAAM0M,cAAcC,cAAcF,EAAEzM,MAAM0M,kBAChDE,GAAS,CACpB,CACElR,MAAO,6BACPsE,MAAO,8BAET,CAAEtE,MAAO,qBAAsBsE,MAAO,sBACtC,CAAEtE,MAAO,mBAAoBsE,MAAO,oBACpC,CAAEtE,MAAO,gBAAiBsE,MAAO,iBACjC,CAAEtE,MAAO,YAAasE,MAAO,aAC7B,CAAEtE,MAAO,cAAesE,MAAO,eAC/B,CAAEtE,MAAO,qBAAsBsE,MAAO,sBACtC,CAAEtE,MAAO,sBAAuBsE,MAAO,uBACvC,CAAEtE,MAAO,kBAAmBsE,MAAO,mBACnC,CAAEtE,MAAO,iBAAkBsE,MAAO,kBAClC,CAAEtE,MAAO,mBAAoBsE,MAAO,oBACpC,CACEtE,MAAO,4BACPsE,MAAO,6BAET,CAAEtE,MAAO,SAAUsE,MAAO,UAC1B,CAAEtE,MAAO,qBAAsBsE,MAAO,sBACtC,CAAEtE,MAAO,kBAAmBsE,MAAO,mBACnC,CAAEtE,MAAO,gBAAiBsE,MAAO,iBACjC,CAAEtE,MAAO,mBAAoBsE,MAAO,oBACpC,CAAEtE,MAAO,cAAesE,MAAO,eAC/B,CAAEtE,MAAO,iBAAkBsE,MAAO,kBAClC,CACEtE,MAAO,yBACPsE,MAAO,0BAET,CAAEtE,MAAO,UAAWsE,MAAO,WAC3B,CAAEtE,MAAO,oBAAqBsE,MAAO,qBACrC,CAAEtE,MAAO,WAAYsE,MAAO,YAC5B,CACEtE,MAAO,+BACPsE,MAAO,gCAET,CACEtE,MAAO,wBACPsE,MAAO,yBAET,CACEtE,MAAO,8CACPsE,MAAO,+CAET,CAAEtE,MAAO,oBAAqBsE,MAAO,qBACrC,CAAEtE,MAAO,oBAAqBsE,MAAO,qBACrC,CAAEtE,MAAO,eAAgBsE,MAAO,gBAChC,CAAEtE,MAAO,cAAesE,MAAO,eAC/B,CACEtE,MAAO,iCACPsE,MAAO,kCAET,CAAEtE,MAAO,aAAcsE,MAAO,cAC9B,CAAEtE,MAAO,oBAAqBsE,MAAO,qBACrC,CAAEtE,MAAO,qBAAsBsE,MAAO,sBACtC,CAAEtE,MAAO,iBAAkBsE,MAAO,kBAClC,CAAEtE,MAAO,oBAAqBsE,MAAO,qBACrC,CAAEtE,MAAO,cAAesE,MAAO,eAC/B,CAAEtE,MAAO,mBAAoBsE,MAAO,oBACpC,CACEtE,MAAO,yCACPsE,MAAO,0CAET,CAAEtE,MAAO,YAAasE,MAAO,aAC7B,CAAEtE,MAAO,MAAOsE,MAAO,OACvB,CAAEtE,MAAO,oBAAqBsE,MAAO,sBACrCsL,MAAK,SAACkB,EAAGC,GAAJ,OAAUD,EAAExM,MAAM0M,cAAcC,cAAcF,EAAEzM,MAAM0M,kBCviBtD,SAAS5G,KACd,IAAMzJ,EAAUC,cACVuP,EAAWgB,cACXvH,EAAgBlJ,qBAAWL,GAHV,EAIWQ,oBAAS,GAJpB,mBAIhBqO,EAJgB,KAILkC,EAJK,OAKOvQ,qBALP,mBAKhBwQ,EALgB,KAKPC,EALO,KAMjBC,EAAKzB,KA8CX,OA5CAzB,qBAAU,WACRiD,OAAW3G,GACXyG,GAAa,GACbG,EAAGhB,OAAO3G,EAActJ,OAAOsD,MAAK,SAACyN,GACnCD,GAAa,GACbE,EAAWD,QAEZ,CAAClB,IAsCF,kBAACtI,GAAD,KACE,kBAACI,GAAD,KACE,kBAACH,GAAD,KACE,kBAACV,GAAD,CAAoBhG,QAAQ,MAA5B,sBAEA,kBAACkM,GAAD,CACErB,MAAM,YACNrD,OAAQiI,GACR7C,QAASpE,EAActJ,MAAMkP,WAC7BzB,gBAhCV,SAA2BD,EAAS/E,GAClC,IAAMiB,EAAS,2BACVJ,EAActJ,OADJ,IAEbkP,WAAY1B,EAAO,uBACXlE,EAActJ,MAAMkP,YADT,CACqBzG,EAAG/I,QACvC4J,EAActJ,MAAMkP,WAAWgC,QAAO,SAAC7M,GAAD,OAAOA,IAAMoE,EAAG/I,WAE5D4J,EAAcrJ,SAASyJ,GACvBrJ,EAAQoD,KAAR,kBAAwBtE,EAAoBuK,QA0BtC,kBAACsD,GAAD,CACErB,MAAM,QACNrD,OAAQsI,GACRlD,QAASpE,EAActJ,MAAMoP,OAC7B3B,gBA3BV,SAAuBD,EAAS/E,GAC9B,IAAMiB,EAAS,2BACVJ,EAActJ,OADJ,IAEboP,OAAQ5B,EAAO,uBACPlE,EAActJ,MAAMoP,QADb,CACqB3G,EAAG/I,QACnC4J,EAActJ,MAAMoP,OAAO8B,QAAO,SAAC7M,GAAD,OAAOA,IAAMoE,EAAG/I,WAExD4J,EAAcrJ,SAASyJ,GACvBrJ,EAAQoD,KAAR,kBAAwBtE,EAAoBuK,QAqBtC,kBAAChC,GAAD,KACE,kBAACgD,GAAD,CACEd,YAAY,YACZlK,MACG4J,EAActJ,MAAMgP,UACnB,IAAI9N,KAAKoI,EAActJ,MAAMgP,WAC/B,KAEFjE,aAAc,SAACoG,GACb,IAAMzH,EAAS,2BACVJ,EAActJ,OADJ,IAEbgP,SAAUmC,EAAOA,EAAKC,cAAgB,OAExC9H,EAAcrJ,SAASyJ,GACvBrJ,EAAQoD,KAAR,kBAAwBtE,EAAoBuK,QAGhD,kBAACzD,GAAD,MACA,kBAACiF,GAAD,CACEtB,YAAY,UACZlK,MACG4J,EAActJ,MAAMiP,QACnB,IAAI/N,KAAKoI,EAActJ,MAAMiP,SAC/B,KAEFlE,aAAc,SAACoG,GACb,IAAMzH,EAAS,2BACVJ,EAActJ,OADJ,IAEbiP,OAAQkC,EAAOA,EAAKC,cAAgB,OAEtC9H,EAAcrJ,SAASyJ,GACvBrJ,EAAQoD,KAAR,kBAAwBtE,EAAoBuK,UAKpD,kBAACxD,EAAA,EAAD,CAASmL,YAAY,cAEvB,kBAAC5J,GAAD,KACE,kBAACJ,GAAD,KACE,kBAACP,GAAD,CAAoBhG,QAAQ,MACzBiQ,GAAW,wCAAIA,EAAQO,SAAZ,mBAEd,kBAACtI,GAAD,CACEV,OAAQ,CACN,CAAE5I,MAAO,IAAKsE,MAAO,qBACrB,CAAEtE,MAAO,YAAasE,MAAO,iBAC7B,CAAEtE,MAAO,WAAYsE,MAAO,oBAC5B,CAAEtE,MAAO,YAAasE,MAAO,qBAE/BtE,MAAO4J,EAActJ,MAAMsP,MAAQ,IACnClL,SAAU,SAACrB,GACT,IAAMrD,EAAQqD,EAAMuB,OAAO5E,MACrBgK,EAAS,2BACVJ,EAActJ,OADJ,IAEbsP,KAAM5P,IAER4J,EAAcrJ,SAASyJ,GACvBrJ,EAAQoD,KAAR,kBAAwBtE,EAAoBuK,SAIlD,kBAACpC,GAAD,KACE,kBAACsG,GAAD,CAAgBgB,UAAWA,EAAWP,SApH9C,WACM0C,GAAWA,EAAQQ,KAAKhJ,OAASwI,EAAQO,WAAa1C,IACxDkC,GAAa,GACbG,EAAGhB,OAAO3G,EAActJ,MAAO+Q,EAAQQ,KAAKhJ,QAAQjF,MAAK,SAACyN,GACxDD,GAAa,GACbE,GAAW,SAACzM,GAAD,mBAAC,eACPA,GADM,IAETgN,KAAK,GAAD,oBAAMhN,EAAEgN,MAAR,aAAiBR,EAAQQ,kBA8G3B,oCACGR,GACCA,EAAQQ,KAAK/I,KAAI,SAACC,EAAIC,GAAL,OACf,kBAAC0C,GAAD,iBACM3C,EADN,CAEEhJ,IAAKgJ,EAAG1E,GACRgI,iBAAkB,WAChBiF,GAAW,SAACzM,GACV,IAAMiN,EAAQ,2BAAQjN,GAAR,IAAWgN,KAAK,aAAKhN,EAAEgN,QAIrC,OAHAC,EAASD,KAAK7I,GAAKsD,aAAewF,EAASD,KAAK7I,GAC7CsD,YACHiF,EAAGlB,gBAAgBtH,EAAG1E,IACfyN,MAGXvF,gBAAiB,WACf5L,EAAQoD,KAAR,qBAA2BgF,EAAG1E,GAA9B,kB,ogBC7JtB,IAAM0N,GAActK,IAAOC,IAAV,MAQXsK,GAAUvK,IAAOC,IAAV,MAMPC,GAAUF,IAAOC,IAAV,MAON,SAASuK,GAAS9J,GAAQ,IAAD,QACxBxH,EAAUC,cACVgJ,EAAgBlJ,qBAAWL,GAFH,EAGFQ,qBAHE,mBAGvBqR,EAHuB,KAGfC,EAHe,KAIxBZ,EAAKzB,KASX,OAPAzB,qBAAU,WACH6D,IACHC,EAAU,WACVZ,EAAGZ,aAAa,CAACxI,EAAM9D,KAAKT,MAAK,SAACsO,GAAD,OAAYC,EAAUD,EAAOL,KAAK,UAEpE,CAACK,IAECA,GAAqB,YAAXA,EAGX,kBAACH,GAAD,KACE,kBAACC,GAAD,KACE,kBAAC7Q,EAAA,EAAD,CAAYC,QAAQ,MACjB8Q,EAAOjG,MACR,kBAACG,GAAA,EAAD,CACI1B,QAAS,WACPyH,GAAU,SAACtN,GACT,IAAMiN,EAAQ,eAAOjN,GAGrB,OAFAiN,EAASxF,aAAewF,EAASxF,YACjCiF,EAAGlB,gBAAgB6B,EAAO7N,IACnByN,OAIZI,EAAO5F,YACJ,kBAACvF,GAAD,CAAgBX,SAAS,UAEzB,kBAAC,KAAD,CAAgBA,SAAS,YAKjC,kBAACjF,EAAA,EAAD,KAAa+Q,EAAO/F,WAEtB,kBAAC,GAAD,KACE,kBAAC9F,GAAD,CACIjF,QAAQ,YACRC,MAAM,YACNmJ,UAAW,kBAAC,IAAD,MACXE,QAAS,WACP/J,EAAQoD,KAAR,kBAAwBtE,EAAoBmK,EAActJ,WALhE,2BAWC,UAAA4R,EAAO1C,kBAAP,eAAmB3G,QAAS,GACzB,kBAACzB,GAAD,CAAoBhG,QAAQ,MAA5B,cAbN,UAeG8Q,EAAO1C,kBAfV,aAeG,EAAmB1G,KAAI,SAACC,GAAD,OACpB,kBAAC7C,EAAD,CACI9E,QAAQ,YACRC,MAAM,UACNqJ,QAAS,WACPd,EAAcrJ,UAAS,iBAAO,CAC5BsJ,MAAO,GACPI,MAAO,IACP2F,KAAM,IACNF,OAAQ,GACRF,WAAY,CAACzG,GACbwG,OAAQ,KACRD,SAAU,SAEZ3O,EAAQoD,KAAR,kBACetE,EAAoBmK,EAActJ,WAIpDyI,OAIN,UAAAmJ,EAAOxC,cAAP,eAAe7G,QAAS,GACrB,kBAACzB,GAAD,CAAoBhG,QAAQ,MAA5B,UAvCN,UAyCG8Q,EAAOxC,cAzCV,aAyCG,EAAe5G,KAAI,SAACC,GAAD,OAChB,kBAAC7C,EAAD,CACI9E,QAAQ,YACRC,MAAM,UACNqJ,QAAS,WACPd,EAAcrJ,UAAS,iBAAO,CAC5BsJ,MAAO,GACPI,MAAO,IACP2F,KAAM,IACNF,OAAQ,CAAC3G,GACTyG,WAAY,GACZD,OAAQ,KACRD,SAAU,SAEZ3O,EAAQoD,KAAR,kBACetE,EAAoBmK,EAActJ,WAIpDyI,QAvF6B,KCnCvC,SAASqJ,KACZ,IAAMzR,EAAUC,cADY,EAEMC,oBAAS,GAFf,mBAErBqO,EAFqB,KAEVkC,EAFU,OAGFvQ,qBAHE,mBAGrBwR,EAHqB,KAGdC,EAHc,OAIJzR,mBAAS,GAJL,mBAIrB0R,EAJqB,KAIfC,EAJe,OAKE3R,qBALF,mBAKrBwQ,EALqB,KAKZC,EALY,KAMtBC,EAAKzB,KAsBX,OApBAzB,qBAAU,WACDgE,IACDjB,GAAa,GACbG,EAAGnB,gBAAgBxM,MAAK,SAACyN,GACrB,IAAMoB,EAAWpB,EAAQvI,KAAI,SAAC4J,GAAD,iBAAcA,EAAKpC,OAAnB,QAC7BgC,EAASG,GACTlB,EAAGZ,aACC8B,EAASE,MAjBX,GAkBMJ,EACAK,KAAKC,IAAIJ,EAAS5J,OAnBxB,IAmBiC0J,EAAO,MAExC3O,MAAK,SAACyN,GACJC,EAAWD,GACXmB,GAAQ,SAAC3N,GAAD,OAAOA,EAAI,KACnBuM,GAAa,YAI1B,CAACiB,IAGA,kBAAC7K,GAAD,KACI,kBAACG,GAAD,KACI,kBAACP,GAAD,CAAoBhG,QAAQ,MACvBiQ,IAAYnC,GAAa,wCAAImC,EAAQO,SAAZ,oBAGlC,kBAAChK,GAAD,KACI,kBAACsG,GAAD,CACIgB,UAAWA,EACXP,SAAU,WACNyC,GAAa,GACbG,EAAGZ,aACC0B,EAAMM,MA3ChB,GA4CcJ,EACAK,KAAKC,IAAIR,EAAMxJ,OA7C7B,IA6CsC0J,EAAO,MAErC3O,MAAK,SAACyN,GACJD,GAAa,GACbE,GAAW,SAACzM,GAAD,mBAAC,eACLA,GADI,IAEPgN,KAAK,GAAD,oBAAMhN,EAAEgN,MAAR,aAAiBR,EAAQQ,YAEjCW,GAAQ,SAAC3N,GAAD,OAAOA,EAAI,UAI3B,oCACKwM,GACDA,EAAQQ,KAAK/I,KAAI,SAACC,EAAIC,GAAL,OACT,kBAAC0C,GAAD,iBACQ3C,EADR,CAEIhJ,IAAKgJ,EAAG1E,GACRgI,iBAAkB,WACdiF,GAAW,SAACzM,GACR,IAAMiN,EAAQ,2BAAOjN,GAAP,IAAUgN,KAAK,aAAKhN,EAAEgN,QAKpC,OAJAC,EAASF,SAAWE,EAASF,SAAW,EACxCE,EAASD,KAAK7I,GAAKsD,aAAewF,EAASD,KAAK7I,GAAKsD,YACrDwF,EAASD,KAAOC,EAASD,KAAKL,QAAO,SAACzI,GAAD,OAAQA,EAAGuD,eAChDiF,EAAGlB,gBAAgBtH,EAAG1E,IACfyN,MAGfvF,gBAAiB,WACb5L,EAAQoD,KAAR,qBAA2BgF,EAAG1E,GAA9B,iB,wBCtEjC,SAASyO,KACZ,IAAMrS,EAAcC,qBAAWvB,GACzBwB,EAAUC,cAFO,EAGCC,mBAAS,CAC7BC,SAAU,GACVC,SAAU,GACVgS,UAAW,GACXC,WAAY,GACZC,MAAO,KARY,mBAGhBjS,EAHgB,KAGVC,EAHU,KAWvB,SAASC,IACL,OACI,kBAACC,EAAA,EAAD,CAAYC,QAAQ,QAAQC,MAAM,gBAAgBC,MAAM,UACnD,kBACD,kBAAC,IAAD,CAAMD,MAAM,UAAUE,KAAK,4BAA3B,gBAGC,IAAIC,MAAOC,eAKxB,IAoBMC,EApBYC,aAAW,SAACC,GAAD,MAAY,CACrCC,MAAO,CACHC,UAAWF,EAAMG,QAAQ,GACzBC,QAAS,OACTC,cAAe,SACfC,WAAY,UAEhBC,OAAQ,CACJC,OAAQR,EAAMG,QAAQ,GACtBM,gBAAiBT,EAAMU,QAAQC,UAAUC,MAE7CC,KAAM,CACFC,MAAO,OACPZ,UAAWF,EAAMG,QAAQ,IAE7BY,OAAQ,CACJP,OAAQR,EAAMG,QAAQ,EAAG,EAAG,OAIpBa,GAEhB,OACI,kBAACC,EAAA,EAAD,CAAWC,UAAU,OAAOC,SAAS,MACjC,kBAACC,EAAA,EAAD,MACA,yBAAKC,UAAWvB,EAAQG,OACpB,kBAACqB,EAAA,EAAD,CAAQD,UAAWvB,EAAQS,QACvB,kBAAC,IAAD,OAEJ,kBAAChB,EAAA,EAAD,CAAY2B,UAAU,KAAK1B,QAAQ,MAAnC,WAGA,0BACI6B,UAAWvB,EAAQe,KACnBU,YAAU,EACVC,SAAU,SAACC,GACPC,MAAM,gBAAiB,CACnBC,OAAQ,OACRC,KAAMC,KAAKC,UAAU1C,GACrB2C,QAAS,CAAC,CAAC,eAAgB,uBAE1BC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACC,GACH5C,EAAQ,CAACH,SAAU,GAAIC,SAAU,KACjCN,EAAYlB,SAASsE,EAAIvE,OACzBqB,EAAQoD,KAAK,cAEhBC,OAAM,eAIXX,EAAMY,mBAGV,kBAACkB,EAAA,EAAD,CAAMC,WAAS,EAACrD,QAAS,GACrB,kBAACoD,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACX,kBAACpB,EAAA,EAAD,CACI9C,QAAQ,WACR+C,UAAQ,EACRC,WAAS,EACTC,GAAG,WACHC,MAAM,WACNC,KAAK,WACLC,aAAa,WACbC,WAAS,EACTzE,MAAOgB,EAAKF,SACZ4D,SAAU,SAACC,GACP,IAAM3E,EAAQ2E,EAAEC,OAAO5E,MACvBiB,GAAQ,SAAC4D,GAAD,mBAAC,eAAWA,GAAZ,IAAe/D,SAAUd,WAI7C,kBAACmF,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAI4N,GAAI,GACnB,kBAAChP,EAAA,EAAD,CACI9C,QAAQ,WACR+C,UAAQ,EACRC,WAAS,EACTC,GAAG,YACHC,MAAM,aACNC,KAAK,YACLC,aAAa,QACbC,WAAS,EACTzE,MAAOgB,EAAKgS,WACZtO,SAAU,SAACC,GACPzE,QAAQC,IAAIa,GACZ,IAAMhB,EAAQ2E,EAAEC,OAAO5E,MACvBiB,GAAQ,SAAC4D,GAAD,mBAAC,eAAWA,GAAZ,IAAemO,WAAYhT,WAI/C,kBAACmF,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,GAAI4N,GAAI,GACnB,kBAAChP,EAAA,EAAD,CACI9C,QAAQ,WACR+C,UAAQ,EACRC,WAAS,EACTC,GAAG,WACHC,MAAM,YACNC,KAAK,WACLC,aAAa,QACbxE,MAAOgB,EAAK+R,UACZrO,SAAU,SAACC,GACP,IAAM3E,EAAQ2E,EAAEC,OAAO5E,MACvBiB,GAAQ,SAAC4D,GAAD,mBAAC,eAAWA,GAAZ,IAAekO,UAAW/S,WAI9C,kBAACmF,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACX,kBAACpB,EAAA,EAAD,CACI9C,QAAQ,WACR+C,UAAQ,EACRC,WAAS,EACTC,GAAG,QACHC,MAAM,gBACNC,KAAK,QACLC,aAAa,QACbxE,MAAOgB,EAAKiS,MACZvO,SAAU,SAACC,GACP,IAAM3E,EAAQ2E,EAAEC,OAAO5E,MACvBiB,GAAQ,SAAC4D,GAAD,mBAAC,eAAWA,GAAZ,IAAeoO,MAAOjT,WAI1C,kBAACmF,EAAA,EAAD,CAAME,MAAI,EAACC,GAAI,IACX,kBAACpB,EAAA,EAAD,CACI9C,QAAQ,WACR+C,UAAQ,EACRC,WAAS,EACTG,KAAK,WACLD,MAAM,WACNQ,KAAK,WACLT,GAAG,WACHG,aAAa,mBACbxE,MAAOgB,EAAKD,SACZ2D,SAAU,SAACC,GACP,IAAM3E,EAAQ2E,EAAEC,OAAO5E,MACvBiB,GAAQ,SAAC4D,GAAD,mBAAC,eAAWA,GAAZ,IAAe9D,SAAUf,YAKjD,kBAACkF,EAAA,EAAD,CACIJ,KAAK,SACLV,WAAS,EACThD,QAAQ,YACRC,MAAM,UACN4B,UAAWvB,EAAQiB,QALvB,WASA,kBAACwC,EAAA,EAAD,CAAMC,WAAS,EAAC+N,QAAQ,YACpB,kBAAChO,EAAA,EAAD,CAAME,MAAI,GACN,kBAACE,EAAA,EAAD,CAAWnE,QAAQ,SACf,kBAAC,IAAD,CAAMoE,GAAG,UAAT,yCAMpB,kBAACC,EAAA,EAAD,CAAKC,GAAI,GACL,kBAACxE,EAAD,Q,oQCjLT,SAASkS,KACd,IAAMpS,EAAON,qBAAWvB,GADY,EAGE0B,mBhBXjC,SAA4B0P,GACjC,IAAM5Q,EAAe,IAAIC,gBAAgB2Q,GAezC,MAdoB,CAClB1G,MAAOlK,EAAa0T,IAAI,UAAY,GACpCpJ,MAAOtK,EAAa0T,IAAI,UAAY,IACpCzD,KAAMjQ,EAAa0T,IAAI,SAAW,IAClC3D,OACG/P,EAAa0T,IAAI,WAAa1T,EAAa0T,IAAI,UAAUC,MAAM,MAChE,GACF9D,WACG7P,EAAa0T,IAAI,eAChB1T,EAAa0T,IAAI,cAAcC,MAAM,MACvC,GACF/D,OAAQ5P,EAAa0T,IAAI,WAAa,GACtC/D,SAAU3P,EAAa0T,IAAI,aAAe,IgBFxCE,CAAmBrD,OAAOC,SAASI,SAJH,mBAG7B7Q,EAH6B,KAGhB8T,EAHgB,KAO9B5R,EAAQ6R,aAAe,CAC3BnR,QAAS,CACPoR,QAAS,CACPlR,KAAM,WAERD,UAAW,CACTC,KAAM,cAKZ,OACI,kBAAC,KAAD,CAAkBZ,MAAOA,GACvB,kBAAC,IAAD,KACGZ,EAAK1B,MACF,kBAACe,EAAcsT,SAAf,CACI3T,MAAO,CACLM,MAAOZ,EACPa,SAAUiT,IAGd,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOI,KAAK,WACV,kBAACC,GAAD,KACE,kBAAC,GAAD,QAGJ,kBAAC,IAAD,CACID,KAAK,gBACLE,OAAQ,SAAC3L,GAAD,OACJ,kBAAC0L,GAAD,KACE,kBAAC5B,GAAD,CAAU5N,GAAI8D,EAAM4L,MAAMC,OAAO3P,SAI3C,kBAAC,IAAD,CAAOuP,KAAK,cACV,kBAACC,GAAD,KACE,kBAACzB,GAAD,QAGJ,kBAAC,IAAD,CAAOwB,KAAK,KACV,kBAAC,IAAD,CAAUpO,GAAG,eAKnB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOoO,KAAK,UACV,kBAACpT,EAAD,OAEF,kBAAC,IAAD,CAAOoT,KAAK,aACV,kBAACd,GAAD,OAEF,kBAAC,IAAD,CAAOc,KAAK,KACV,kBAAC,IAAD,CAAUpO,GAAG,eAS/B,IAAMyO,GAAgBxM,IAAOC,IAAV,MAWnB,SAASmM,GAAW1L,GAClB,OACI,kBAAC8L,GAAD,KACE,kBAACtK,GAAD,MACA,kBAACY,GAAD,MACCpC,EAAM8G,UChFAiF,OArBf,WAAgB,IAAD,EACarT,mBACxBqP,OAAOiE,aAAaC,QAAQ,UAAY,IAF7B,mBACN9U,EADM,KACCC,EADD,KAIb,OACE,yBAAK0D,UAAU,OACb,kBAAC9D,EAAsBwU,SAAvB,CACE3T,MAAO,CACLV,QACAC,SAAU,SAACD,GACTC,EAASD,GACT4Q,OAAOiE,aAAaE,QAAQ,QAAS/U,MAIzC,kBAAC8T,GAAD,SCTYkB,QACW,cAA7BpE,OAAOC,SAASoE,UAEe,UAA7BrE,OAAOC,SAASoE,UAEhBrE,OAAOC,SAASoE,SAASR,MACvB,2DCZNS,IAASV,OACP,kBAAC,IAAMW,WAAP,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBlR,MAAK,SAAAmR,GACJA,EAAaC,gBAEdhR,OAAM,SAAAiR,GACL/U,QAAQ+U,MAAMA,EAAMC,c","file":"static/js/main.e148f6a6.chunk.js","sourcesContent":["import React from \"react\";\n\nexport const AuthenticationContext = React.createContext({\n  token: \"\",\n  setToken: (_) => {},\n});\n","import { createContext } from \"react\";\r\n\r\nexport function generateQueryParams(searchState) {\r\n  const searchParams = new URLSearchParams();\r\n  for (const [key, value] of Object.entries(searchState)) {\r\n    if (value) {\r\n      searchParams.set(key, value);\r\n    }\r\n  }\r\n  console.log(\"searchParams\", searchParams);\r\n  return searchParams.toString();\r\n}\r\n\r\nexport function getInitSearchState(search) {\r\n  const searchParams = new URLSearchParams(search);\r\n  const searchState = {\r\n    query: searchParams.get(\"query\") || \"\",\r\n    field: searchParams.get(\"field\") || \"*\",\r\n    sort: searchParams.get(\"sort\") || \" \",\r\n    topics:\r\n      (searchParams.get(\"topics\") && searchParams.get(\"topics\").split(\",\")) ||\r\n      [],\r\n    components:\r\n      (searchParams.get(\"components\") &&\r\n        searchParams.get(\"components\").split(\",\")) ||\r\n      [],\r\n    dateTo: searchParams.get(\"dateTo\") || \"\",\r\n    dateFrom: searchParams.get(\"dateFrom\") || \"\",\r\n  };\r\n  return searchState;\r\n}\r\n\r\nexport const SearchContext = createContext({\r\n  state: {},\r\n  setState: (_) => {},\r\n});\r\n","import React, { useState, useContext } from \"react\";\nimport { AuthenticationContext } from \"../auth\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport LinkStyle from \"@material-ui/core/Link\";\nimport { Link } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { useHistory } from \"react-router-dom\";\n\nexport function Login() {\n  const authContext = useContext(AuthenticationContext);\n  const history = useHistory();\n  const [auth, setAuth] = useState({\n    username: \"\",\n    password: \"\",\n  });\n\n  function Copyright() {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n          {\"Copyright © \"}\n          <Link color=\"inherit\" href=\"https://material-ui.com/\">\n            SWI project\n          </Link>\n          {new Date().getFullYear()}\n        </Typography>\n    );\n  }\n\n  const useStyles = makeStyles((theme) => ({\n    paper: {\n      marginTop: theme.spacing(8),\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n    },\n    form: {\n      width: \"100%\", // Fix IE 11 issue.\n      marginTop: theme.spacing(1),\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n  }));\n\n  const classes = useStyles();\n\n  return (\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline/>\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon/>\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form\n              className={classes.form}\n              noValidate\n              onSubmit={(event) => {\n                fetch(`/api/login`, {\n                  method: \"POST\",\n                  body: JSON.stringify(auth),\n                  headers: [[\"Content-Type\", \"application/json\"]],\n                })\n                    .then((res) => res.json())\n                    .then((res) => {\n                      setAuth({username: \"\", password: \"\"});\n                      authContext.setToken(res.token);\n                      history.push(\"/search\");\n                    })\n                    .catch(() => {\n                      // setError\n                    });\n\n                event.preventDefault();\n              }}\n          >\n            <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                id=\"username\"\n                label=\"Username\"\n                name=\"username\"\n                autoComplete=\"username\"\n                autoFocus\n                value={auth.username}\n                onChange={(e) => {\n                  const value = e.target.value;\n                  setAuth((s) => ({...s, username: value}));\n                }}\n            />\n            <TextField\n                variant=\"outlined\"\n                margin=\"normal\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                autoComplete=\"current-password\"\n                value={auth.password}\n                onChange={(e) => {\n                  const value = e.target.value;\n                  setAuth((s) => ({...s, password: value}));\n                }}\n            />\n            <FormControlLabel\n                control={<Checkbox value=\"remember\" color=\"primary\"/>}\n                label=\"Remember me\"\n            />\n            <Button\n                fullWidth\n                variant=\"contained\"\n                color=\"primary\"\n                type=\"submit\"\n                className={classes.submit}\n            >\n              Sign In\n            </Button>\n            <Grid container>\n              <Grid item xs>\n                {/*<Link href=\"#\" variant=\"body2\">*/}\n                {/*  Forgot password?*/}\n                {/*</Link>*/}\n              </Grid>\n              <Grid item>\n                <LinkStyle variant=\"body2\">\n                  <Link to=\"/register\">Don't have an account? Sign Up</Link>\n                </LinkStyle>\n              </Grid>\n            </Grid>\n          </form>\n        </div>\n        <Box mt={8}>\n          <Copyright/>\n        </Box>\n      </Container>\n  );\n}\n","import \"date-fns\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { Button, InputBase, Typography } from \"@material-ui/core\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport {ExpandMore, Star, Today} from \"@material-ui/icons\";\r\nimport styled from \"styled-components\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\n\r\nexport const StyledSearchButton = withStyles({\r\n  root: {\r\n    width: \"300px\",\r\n    borderRadius: \"0 1em 0 0\",\r\n    boxShadow:\r\n        \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\r\n    textTransform: \"none\",\r\n    fontWeight: \"bold\",\r\n  },\r\n})(Button);\r\n\r\nexport const StyledElementButton = withStyles({\r\n  root: {\r\n    borderRadius: \"0 1em 0 1em\",\r\n    fontStyle: \"normal\",\r\n    fontSize: \"16px\",\r\n    margin: \"0 0 16px 16px\",\r\n    boxShadow:\r\n        \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\r\n  },\r\n})(Button);\r\n\r\nexport const StyledBackButton = withStyles({\r\n  root: {\r\n    margin: \"16px 0 16px 16px\",\r\n    borderRadius: \"0 1em 0 1em\",\r\n    fontStyle: \"normal\",\r\n    fontSize: \"16px\",\r\n    boxShadow:\r\n        \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\r\n  },\r\n})(Button);\r\n\r\nexport const StyledSideButton = withStyles({\r\n  root: {\r\n    borderRadius: \"0 5em 5em 0\",\r\n    fontStyle: \"normal\",\r\n    boxShadow:\r\n        \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\r\n    margin: \"8px\",\r\n  },\r\n})(Button);\r\n\r\nexport const StyledDivider = withStyles({\r\n  root: {\r\n    backgroundColor: \"white\",\r\n  },\r\n})(Divider);\r\n\r\nexport const StyledInputBase = withStyles({\r\n  root: {\r\n    fontStyle: \"normal\",\r\n    fontSize: \"24px\",\r\n    backgroundColor: \"#ffffff\",\r\n    paddingLeft: \"0.2em\",\r\n    boxShadow:\r\n        \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\r\n  },\r\n})(InputBase);\r\n\r\nexport const StyledMoreButton = withStyles({\r\n  root: {\r\n    borderRadius: \"0 1em 1em 0\",\r\n    fontStyle: \"normal\",\r\n    fontSize: \"16px\",\r\n    boxShadow:\r\n        \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\r\n  },\r\n})(Button);\r\n\r\nexport const WhiteExpandMoreIcon = withStyles({\r\n  root: {\r\n    color: \"#FFFFFF !important\",\r\n  },\r\n})(ExpandMore);\r\n\r\nexport const YellowStarIcon = withStyles({\r\n  root: {\r\n    color: \"gold !important\",\r\n  },\r\n})(Star);\r\n\r\nexport const WhiteBackIcon = withStyles({\r\n  root: {\r\n    color: \"white !important\",\r\n  },\r\n})(ArrowBackIcon);\r\n\r\nexport const WhiteExpandMoreIconWithMargin = withStyles({\r\n  root: {\r\n    color: \"#FFFFFF !important\",\r\n    marginRight: \"32px\",\r\n  },\r\n})(ExpandMore);\r\n\r\nexport const CenteredTypography = withStyles({\r\n  root: {\r\n    margin: \"16px 0 16px 16px\",\r\n    textAlign: \"center\",\r\n  },\r\n})(Typography);\r\n\r\nexport const StyledTodayIcon = withStyles({\r\n    root: {\r\n        color: \"#FFFFFF !important\",\r\n    },\r\n})(Today);\r\n\r\nexport const SelectedFacetContainer = styled.div`\r\n  background-color: black;\r\n  width: 120%;\r\n  margin: -4px -16px 0 -16px;\r\n  color: white;\r\n  font-size: large;\r\n  padding: 4px;\r\n  text-align: center;\r\n`;\r\n\r\nexport const FavouritesDiv = styled.div`\r\n  display: grid;\r\n  grid-template-rows: 10fr 90fr;\r\n  grid-template-areas:\r\n    \"info\"\r\n    \"cards\";\r\n  margin-left: 16px;\r\n  margin-right: 128px;\r\n`;\r\n\r\nexport const InfoDiv = styled.div`\r\n  background: E5E5E5;\r\n  grid-area: info;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-left: 16px;\r\n`;\r\n\r\nexport const PivotDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n`;\r\n\r\nexport const CardsDiv = styled.div`\r\n  background: E5E5E5;\r\n  grid-area: cards;\r\n  margin-right: -32px;\r\n`;\r\n\r\nexport const SearchDiv = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 18fr 82fr;\r\n  grid-template-rows: auto;\r\n  grid-template-areas: \"filters results\";\r\n`;\r\n\r\nexport const FiltersDiv = styled.div`\r\n  background: E5E5E5;\r\n  grid-area: filters;\r\n`;\r\n\r\nexport const ResultsDiv = styled.div`\r\n  margin-left: 16px;\r\n  margin-right: 128px;\r\n  grid-area: results;\r\n  display: grid;\r\n  grid-template-rows: 10fr 90fr;\r\n  grid-template-areas:\r\n    \"info\"\r\n    \"cards\";\r\n`;\r\n\r\nexport const CalendarDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport const DividerDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n`;\r\n","import React from \"react\";\nimport { Select, MenuItem } from \"@material-ui/core\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport {WhiteExpandMoreIconWithMargin} from \"./StyledComponents\";\n\nexport function Dropdown(props) {\n  return (\n      <Select\n          IconComponent={WhiteExpandMoreIconWithMargin}\n          MenuProps={{\n            getContentAnchorEl: null,\n            anchorOrigin: {\n              vertical: \"bottom\",\n            },\n          }}\n          disableUnderline\n          displayEmpty={props.values.length === 0}\n          {...props}\n      >\n        {props.values.map((el, idx) => (\n            <MenuItem value={el.value} key={idx}>\n              {el.label}\n            </MenuItem>\n        ))}\n      </Select>\n  );\n}\n\nexport const StyledFieldDropdown = withStyles({\n  root: {\n    borderRadius: \"1em 0 0 0 !important\",\n    backgroundColor: \"#606060 !important\",\n    color: \"#ffffff\",\n    textIndent: \"0.5em\",\n    fontSize: \"24px\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n    boxShadow:\n        \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n    width: \"275px\",\n  },\n})(Dropdown);\n\nexport const StyledSortDropdown = withStyles({\n  root: {\n    borderRadius: \"0.5em !important\",\n    backgroundColor: \"#606060 !important\",\n    color: \"#ffffff\",\n    textIndent: \"0.5em\",\n    boxShadow:\n        \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n    width: \"200px\",\n    textAlign: \"center\",\n  },\n})(Dropdown);\n","import React, { useContext, useState } from \"react\";\r\nimport { SearchContext, generateQueryParams } from \"../search\";\r\nimport { StyledFieldDropdown } from \"./Dropdown\";\r\nimport { Search } from \"@material-ui/icons\";\r\nimport styled from \"styled-components\";\r\nimport { StyledInputBase, StyledSearchButton } from \"./StyledComponents\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst HeaderForm = styled.form`\r\n  grid-area: header;\r\n`;\r\n\r\nconst HeaderDiv = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background: E5E5E5;\r\n  margin-right: 128px;\r\n  margin-top: 16px;\r\n`;\r\n\r\nfunction StyleSearchBar(props) {\r\n  return (\r\n    <StyledInputBase\r\n      fullWidth\r\n      label={props.label}\r\n      name={props.name}\r\n      value={props.value}\r\n      onChange={props.handleValueChanged}\r\n    />\r\n  );\r\n}\r\n\r\nexport function Header() {\r\n  const searchContext = useContext(SearchContext);\r\n  const history = useHistory();\r\n  const [text, setText] = useState(searchContext.state.query || \"\");\r\n\r\n  return (\r\n    <HeaderForm\r\n      onSubmit={(event) => {\r\n        const new_state = {\r\n          ...searchContext.state,\r\n          query: text,\r\n        };\r\n        searchContext.setState(new_state);\r\n        history.push(`/search?${generateQueryParams(new_state)}`);\r\n        event.preventDefault();\r\n      }}\r\n    >\r\n      <HeaderDiv className=\"grid-layout__header\">\r\n        <StyledFieldDropdown\r\n          values={[\r\n            { value: \"*\", label: \"All fields\" },\r\n            { value: \"title\", label: \"Title\" },\r\n            { value: \"contents\", label: \"Content\" },\r\n          ]}\r\n          value={searchContext.state.field || \"\"}\r\n          onChange={(event) => {\r\n            const value = event.target.value;\r\n            searchContext.setState((state) => ({ ...state, field: value }));\r\n          }}\r\n        />\r\n        <StyleSearchBar\r\n          placeholder=\"Type to search\"\r\n          value={text}\r\n          handleValueChanged={(event) => {\r\n            const value = event.target.value;\r\n            setText(value);\r\n          }}\r\n        />\r\n        <StyledSearchButton\r\n          variant=\"contained\"\r\n          color=\"secondary\"\r\n          endIcon={<Search />}\r\n          size=\"large\"\r\n          type=\"submit\"\r\n        >\r\n          Search\r\n        </StyledSearchButton>\r\n      </HeaderDiv>\r\n    </HeaderForm>\r\n  );\r\n}\r\n","import React, {useContext} from \"react\";\nimport styled from \"styled-components\";\nimport { StyledSideButton, YellowStarIcon } from \"./StyledComponents\";\nimport AccountCircleIcon from \"@material-ui/icons/AccountCircle\";\nimport { useHistory } from \"react-router-dom\";\nimport {AuthenticationContext} from \"../auth\";\n\nconst UserBarDiv = styled.div`\n  background: E5E5E5;\n  color: white;\n  grid-area: user;\n  display: flex;\n  flex-direction: column;\n`;\n\nexport function UserBar(props) {\n    const authContext = useContext(AuthenticationContext);\n    const history = useHistory();\n    return (\n        <UserBarDiv>\n            <StyledSideButton\n                variant=\"contained\"\n                color=\"secondary\"\n                startIcon={<AccountCircleIcon style={{fontSize: 50}}/>}\n                onClick={() => {\n                    authContext.setToken(undefined);\n                    history.push(\"/search\");\n                }}\n            />\n            <StyledSideButton\n                variant=\"contained\"\n                color=\"secondary\"\n                startIcon={<YellowStarIcon style={{fontSize: 50}}/>}\n                onClick={() => history.push(\"/favourite\")}\n            />\n        </UserBarDiv>\n    );\n}\n","import React from \"react\";\nimport {\n  KeyboardDatePicker,\n  MuiPickersUtilsProvider,\n} from \"@material-ui/pickers\";\nimport \"date-fns\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport {StyledTodayIcon} from \"./StyledComponents\";\n\nconst StyledUpperDate = withStyles({\n    root: {\n        backgroundColor: \"#606060\",\n        borderRadius: \"0.5em 0 0 0\",\n        alignItems: \"center\",\n        boxShadow:\n            \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n        padding: \"4px 0 4px 0\",\n    },\n})(KeyboardDatePicker);\n\nconst StyledLowerDate = withStyles({\n    root: {\n        backgroundColor: \"#606060\",\n        borderRadius: \"0 0 0.5em 0\",\n        alignItems: \"center\",\n        boxShadow:\n            \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n        padding: \"4px 0 4px 0\",\n    },\n})(KeyboardDatePicker);\n\nexport function UpperDateField(props) {\n    return (\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <StyledUpperDate\n                disableToolbar\n                variant=\"inline\"\n                format=\"dd/MM/yyyy\"\n                value={props.value}\n                placeholder={props.placeholder}\n                onChange={props.onDateChange}\n                InputProps={{\n                    disableUnderline: true,\n                    style: {color: \"#fff\"},\n                }}\n                keyboardIcon={<StyledTodayIcon/>}\n            />\n        </MuiPickersUtilsProvider>\n    );\n}\n\nexport function LowerDateField(props) {\n    return (\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <StyledLowerDate\n                disableToolbar\n                variant=\"inline\"\n                format=\"dd/MM/yyyy\"\n                value={props.value}\n                placeholder={props.placeholder}\n                onChange={props.onDateChange}\n                InputProps={{\n                    disableUnderline: true,\n                    style: {color: \"#fff\"},\n                }}\n                keyboardIcon={<StyledTodayIcon/>}\n            />\n        </MuiPickersUtilsProvider>\n    );\n}\n","import React from \"react\";\r\nimport { IconButton, Typography, Card, CardContent } from \"@material-ui/core\";\r\nimport withStyles from \"@material-ui/core/styles/withStyles\";\r\nimport { StyledMoreButton, YellowStarIcon } from \"./StyledComponents\";\r\nimport styled from \"styled-components\";\r\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\r\n\r\nconst ContentDiv = styled.div`\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n`;\r\n\r\nexport function ResultCard(props) {\r\n  const StyledCard = withStyles({\r\n    root: {\r\n      margin: \"16px\",\r\n      width: \"auto\",\r\n      boxShadow:\r\n          \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\r\n    },\r\n  })(Card);\r\n\r\n  const ClampedTypography = withStyles({\r\n    root: {\r\n      display: \"-webkit-box\",\r\n      \"-webkit-line-clamp\": \"3\",\r\n      \"-webkit-box-orient\": \"vertical\",\r\n      overflow: \"hidden\",\r\n      \"text-overflow\": \"ellipsis\",\r\n    },\r\n  })(Typography);\r\n\r\n  return (\r\n      <StyledCard>\r\n        <CardContent>\r\n          <Typography color=\"secondary\" gutterBottom>\r\n            {props.title}\r\n          </Typography>\r\n          <ContentDiv>\r\n            <ClampedTypography style={{flex: \"12\"}}>\r\n              {props.contents}\r\n            </ClampedTypography>\r\n            <IconButton\r\n                style={{flex: \"1\"}}\r\n                onClick={props.onFavouriteClick}\r\n                type=\"button\"\r\n            >\r\n              {props.isFavourite ? (\r\n                  <YellowStarIcon fontSize=\"large\"/>\r\n              ) : (\r\n                  <StarBorderIcon fontSize=\"large\"/>\r\n              )}\r\n            </IconButton>\r\n            <StyledMoreButton\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                onClick={props.onShowMoreClick}\r\n                style={{flex: \"2\"}}\r\n            >\r\n              Show more\r\n            </StyledMoreButton>\r\n          </ContentDiv>\r\n        </CardContent>\r\n      </StyledCard>\r\n  );\r\n}\r\n","import React, {useContext, useState} from \"react\";\nimport {\n  Typography,\n  ExpansionPanel,\n  ExpansionPanelDetails,\n  ExpansionPanelSummary,\n  FormControlLabel,\n  Checkbox,\n  Divider,\n} from \"@material-ui/core\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\nimport styled from \"styled-components\";\nimport { PivotDiv, WhiteExpandMoreIcon } from \"./StyledComponents\";\nimport Button from \"@material-ui/core/Button\";\nimport {SearchContext} from \"../search\";\n\nconst CheckboxContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: top;\n  height: auto;\n  width: 100%;\n`;\n\nconst Panel = withStyles({\n  root: {\n    \"&:not(:last-child)\": {\n      borderBottom: 0,\n    },\n    \"&:before\": {\n      display: \"none\",\n    },\n    boxShadow:\n      \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n    backgroundColor: \"#E5E5E5\",\n    width: \"300px\",\n    marginBottom: \"16px\",\n  },\n  expanded: {},\n})(ExpansionPanel);\n\nconst PanelSummary = withStyles({\n  root: {\n    backgroundColor: \"#606060\",\n    color: \"#ffffff\",\n    // borderRadius: \"0.5em 0 0.5em 0\",\n    // borderRadius: props.radius,\n    boxShadow:\n      \"0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)\",\n    padding: \"0 36px 0 24px\",\n  },\n  expanded: {},\n})(ExpansionPanelSummary);\n\n// const PanelSummary = withStyles(summaryStyles)(ExpansionPanelSummary);\n\nconst PanelDetails = withStyles({\n  root: {\n    backgroundColor: \"#ffffff\",\n    borderRadius: \"0 0 0 0.5em\",\n    overflowY: \"scroll\",\n    maxHeight: \"250px\",\n    paddingTop: \"4px\",\n    overflowX: \"hidden\",\n  },\n})(ExpansionPanelDetails);\n\nexport function ExpandingMultiSelectDropdown(props) {\n  const [summaryRadius, setSummaryRadius] = useState(\"0.5em 0 0.5em 0\");\n  const [panelRadius, setPanelRadius] = useState(\"0.5em 0 0.5em 0\");\n  return (\n    <Panel\n      square\n      style={{ borderRadius: panelRadius }}\n      onChange={(event, expanded) => {\n        if (expanded === true) {\n          setSummaryRadius(\"0.5em 0 0 0\");\n          setPanelRadius(\"0.5em 0 0 0.5em\");\n        } else {\n          setSummaryRadius(\"0.5em 0 0.5em 0\");\n          setPanelRadius(\"0.5em 0 0.5em 0\");\n        }\n      }}\n    >\n      <PanelSummary\n        expandIcon={<WhiteExpandMoreIcon />}\n        style={{ borderRadius: summaryRadius }}\n      >\n        <Typography>{props.title}</Typography>\n        <Typography>{props.tooltip}</Typography>\n      </PanelSummary>\n      <PanelDetails>\n        <CheckboxContainer>\n          {props.values.map((el, idx) => (\n            <div key={idx}>\n              <FormControlLabel\n                control={<Checkbox color=\"secondary\" />}\n                value={el.value}\n                label={el.label}\n                onChange={(event, checked) =>\n                  props.elementSelected(checked, el)\n                }\n                checked={props.context.indexOf(el.value) > -1}\n              />\n              {idx !== props.values.length - 1 && <Divider />}\n            </div>\n          ))}\n        </CheckboxContainer>\n      </PanelDetails>\n    </Panel>\n  );\n}\n\nexport function ExpandingMultiSelectDropdown2(props) {\n  // const [value, setValue] = useState(\n  //     props.values.length > 0 ? props.values[0].value : {}\n  // );\n  const [selectedElements, setSelectedElements] = useState([]);\n  const [summaryRadius, setSummaryRadius] = useState(\"0.5em 0 0.5em 0\");\n  const [panelRadius, setPanelRadius] = useState(\"0.5em 0 0.5em 0\");\n\n  function renderContent(props) {\n    return (\n      <PivotDiv>\n        {\" \"}\n        {props.values.map((el, idx) => (\n          <div key={idx}>\n            <Button\n              // value={el.value}\n              // label={el.label}\n              onClick={() => {\n                setSelectedElements([...selectedElements, el]);\n              }}\n            >\n              {el.label}\n            </Button>\n            {idx !== props.values.length - 1 && <Divider />}\n          </div>\n        ))}\n      </PivotDiv>\n    );\n  }\n\n  return (\n    <Panel\n      square\n      style={{ borderRadius: panelRadius }}\n      onChange={(event, expanded) => {\n        if (expanded === true) {\n          setSummaryRadius(\"0.5em 0 0 0\");\n          setPanelRadius(\"0.5em 0 0 0.5em\");\n        } else {\n          setSummaryRadius(\"0.5em 0 0.5em 0\");\n          setPanelRadius(\"0.5em 0 0.5em 0\");\n        }\n      }}\n    >\n      <PanelSummary\n        expandIcon={<WhiteExpandMoreIcon />}\n        style={{ borderRadius: summaryRadius }}\n      >\n        <Typography>{props.title}</Typography>\n        <Typography>{props.tooltip}</Typography>\n      </PanelSummary>\n      <PanelDetails>\n        {renderContent(props)}\n        {/*<CheckboxContainer>*/}\n        {/*  {props.values.map((el, idx) => (*/}\n        {/*      <div key={idx}>*/}\n        {/*        <FormControlLabel*/}\n        {/*            control={<Checkbox color=\"secondary\"/>}*/}\n        {/*            value={el.value}*/}\n        {/*            label={el.label}*/}\n        {/*        />*/}\n        {/*        {idx !== props.values.length - 1 && <Divider/>}*/}\n        {/*      </div>*/}\n        {/*  ))}*/}\n        {/*</CheckboxContainer>*/}\n      </PanelDetails>\n    </Panel>\n  );\n}\n","import React, { useRef, useEffect } from \"react\";\n\nexport function InfiniteScroll(props) {\n  const cardsDivRef = useRef(null);\n\n  useEffect(() => {\n    function onScroll() {\n      if (cardsDivRef.current) {\n        const scrollTop = cardsDivRef.current.scrollTop;\n        const scrollHeight = cardsDivRef.current.scrollHeight;\n        const clientHeight = cardsDivRef.current.clientHeight;\n        if (scrollTop + clientHeight > (3 / 4) * scrollHeight) {\n          props.callback();\n        }\n      }\n    }\n\n    cardsDivRef.current &&\n    cardsDivRef.current.addEventListener(\"scroll\", onScroll);\n\n    return () => {\n      cardsDivRef.current &&\n      cardsDivRef.current.removeEventListener(\"scroll\", onScroll);\n    };\n  }, [cardsDivRef.current, props.callback]);\n\n  return (\n      <div\n          style={{\n            position: \"relative\",\n            overflow: \"auto\",\n            height: \"100%\",\n            width: \"100%\",\n          }}\n          ref={cardsDivRef}\n      >\n        <div style={{position: \"absolute\"}}>\n          {props.children}\n          {props.isLoading && <>Loading ...</>}\n        </div>\n      </div>\n  );\n}\n","import { useContext } from \"react\";\nimport { AuthenticationContext } from \"./auth\";\n\nfunction generateSOLRQueryParams(searchContext) {\n  const queryParams = new URLSearchParams();\n\n  const queryParts = [\n    searchContext.query\n      ? searchContext.field === \"*\"\n        ? searchContext.query\n        : `${searchContext.field}:${searchContext.query}`\n      : \"*:*\",\n    ...(searchContext.dateFrom || searchContext.dateTo\n      ? [\n          `date:[${searchContext.dateFrom ? searchContext.dateFrom : \"*\"} TO ${\n            searchContext.dateTo ? searchContext.dateTo : \"*\"\n          }]`,\n        ]\n      : []),\n    ...(searchContext.components.length > 0\n      ? [\n          `components:(${searchContext.components.map((component) => '\"'+component+'\"').join(\" OR \")})`,\n        ]\n      : []),\n    ...(searchContext.topics.length > 0\n      ?\n        [\n            `topics:(${searchContext.topics.map((topic) => '\"'+topic+'\"').join(\" OR \")})`,\n        ]\n      : []),\n  ];\n\n  queryParams.set(\"q\", queryParts.join(\" && \"));\n  if (searchContext.sort.trim()) {\n    queryParams.set(\"sort\", searchContext.sort.trim());\n  }\n  return queryParams;\n}\n\nexport function useAuthenticatedIO() {\n  const authContext = useContext(AuthenticationContext);\n\n  function logoutOnUnauthenticated(promise) {\n    return promise\n        .then((res) => {\n          if (res.status === 401) {\n            authContext.setToken(\"\");\n            window.location.href = \"/\";\n          }\n          return res;\n        })\n        .catch((res) => {\n          authContext.setToken(\"\");\n          window.location.href = \"/\";\n        });\n  }\n\n  function getFavourites() {\n    return logoutOnUnauthenticated(\n        fetch(\"/api/stars/\", {\n          method: \"GET\",\n          headers: [[\"Authorization\", `Token ${authContext.token}`]],\n        })\n    ).then((res) => res.json());\n  }\n\n  function changeFavourite(doc_id) {\n    return fetch(\"/api/stars/\", {\n      method: \"POST\",\n      headers: [\n        [\"Authorization\", `Token ${authContext.token}`],\n        [\"Content-Type\", \"application/json\"],\n      ],\n      body: JSON.stringify({\n        doc_id,\n      }),\n    });\n  }\n\n  function search(search_context, offset = 0) {\n    const queryParams = generateSOLRQueryParams(search_context);\n    queryParams.set(\"start\", offset);\n    return logoutOnUnauthenticated(\n        fetch(`/api/search/select?${queryParams.toString()}`, {\n          method: \"GET\",\n          headers: [[\"Authorization\", `Token ${authContext.token}`]],\n        })\n    ).then((r) => r.json());\n  }\n\n  function getDocuments(ids) {\n    const query = ids.map((id) => `id:${id}`).join(\" || \");\n    return logoutOnUnauthenticated(\n        fetch(`/api/search/select?q=${query}`, {\n          method: \"GET\",\n          headers: [[\"Authorization\", `Token ${authContext.token}`]],\n        })\n    ).then((r) => r.json());\n  }\n\n  return {\n    getFavourites,\n    changeFavourite,\n    search,\n    getDocuments,\n  };\n}\n","export const COMPONENTS = [\n  {\n    value: \"USAO - Texas, Southern\",\n    label: \"USAO - Texas, Southern\",\n  },\n  { value: \"Cyber Division (FBI)\", label: \"Cyber Division (FBI)\" },\n  {\n    value: \"USAO - Missouri, Western\",\n    label: \"USAO - Missouri, Western\",\n  },\n  {\n    value: \"USAO - Virginia, Eastern\",\n    label: \"USAO - Virginia, Eastern\",\n  },\n  {\n    value: \"Civil Rights - Educational Opportunities Section\",\n    label: \"Civil Rights - Educational Opportunities Section\",\n  },\n  {\n    value: \"USAO - Oklahoma, Eastern\",\n    label: \"USAO - Oklahoma, Eastern\",\n  },\n  {\n    value: \"Office of the Pardon Attorney\",\n    label: \"Office of the Pardon Attorney\",\n  },\n  {\n    value: \"USAO - Virginia, Western\",\n    label: \"USAO - Virginia, Western\",\n  },\n  {\n    value: \"USAO - Ohio, Southern\",\n    label: \"USAO - Ohio, Southern\",\n  },\n  {\n    value: \"USAO - Washington, Western\",\n    label: \"USAO - Washington, Western\",\n  },\n  {\n    value: \"Asset Forfeiture Program\",\n    label: \"Asset Forfeiture Program\",\n  },\n  {\n    value: \"USAO - Missouri, Eastern\",\n    label: \"USAO - Missouri, Eastern\",\n  },\n  {\n    value: \"USAO - District of Columbia\",\n    label: \"USAO - District of Columbia\",\n  },\n  { value: \"USAO - Rhode Island\", label: \"USAO - Rhode Island\" },\n  {\n    value: \"Civil Rights - Voting Section\",\n    label: \"Civil Rights - Voting Section\",\n  },\n  {\n    value: \"USAO - Arkansas, Western\",\n    label: \"USAO - Arkansas, Western\",\n  },\n  {\n    value: \"Executive Office for Immigration Review\",\n    label: \"Executive Office for Immigration Review\",\n  },\n  { value: \"USAO - Alaska\", label: \"USAO - Alaska\" },\n  { value: \"USAO - Montana\", label: \"USAO - Montana\" },\n  {\n    value: \"Bureau of Justice Assistance (OJP)\",\n    label: \"Bureau of Justice Assistance (OJP)\",\n  },\n  {\n    value: \"USAO - North Carolina, Western\",\n    label: \"USAO - North Carolina, Western\",\n  },\n  {\n    value: \"Civil Rights - Housing and Civil Enforcement Section\",\n    label: \"Civil Rights - Housing and Civil Enforcement Section\",\n  },\n  {\n    value: \"USAO - Tennessee, Middle\",\n    label: \"USAO - Tennessee, Middle\",\n  },\n  {\n    value: \"USAO - Georgia, Northern\",\n    label: \"USAO - Georgia, Northern\",\n  },\n  {\n    value: \"USAO - North Carolina, Middle\",\n    label: \"USAO - North Carolina, Middle\",\n  },\n  { value: \"USAO - Massachusetts\", label: \"USAO - Massachusetts\" },\n  { value: \"Tax Division\", label: \"Tax Division\" },\n  {\n    value: \"Office for Access to Justice\",\n    label: \"Office for Access to Justice\",\n  },\n  { value: \"USAO - Vermont\", label: \"USAO - Vermont\" },\n  { value: \"USAO - Minnesota\", label: \"USAO - Minnesota\" },\n  {\n    value: \"USAO - Georgia, Middle\",\n    label: \"USAO - Georgia, Middle\",\n  },\n  { value: \"USAO - New Hampshire\", label: \"USAO - New Hampshire\" },\n  {\n    value: \"USAO - New York, Eastern\",\n    label: \"USAO - New York, Eastern\",\n  },\n  {\n    value: \"USAO - Alabama, Middle\",\n    label: \"USAO - Alabama, Middle\",\n  },\n  {\n    value: \"USAO - New York, Western\",\n    label: \"USAO - New York, Western\",\n  },\n  {\n    value: \"USAO - Oklahoma, Western\",\n    label: \"USAO - Oklahoma, Western\",\n  },\n  {\n    value: \"Office of Attorney Recruitment and Management\",\n    label: \"Office of Attorney Recruitment and Management\",\n  },\n  { value: \"USAO - Colorado\", label: \"USAO - Colorado\" },\n  {\n    value: \"USAO - Wisconsin, Eastern\",\n    label: \"USAO - Wisconsin, Eastern\",\n  },\n  {\n    value: \"Office of the Chief Information Officer\",\n    label: \"Office of the Chief Information Officer\",\n  },\n  {\n    value: \"USAO - Louisiana, Middle\",\n    label: \"USAO - Louisiana, Middle\",\n  },\n  {\n    value: \"USAO - California, Central\",\n    label: \"USAO - California, Central\",\n  },\n  {\n    value: \"USAO - Indiana, Northern\",\n    label: \"USAO - Indiana, Northern\",\n  },\n  { value: \"USAO - Utah\", label: \"USAO - Utah\" },\n  {\n    value: \"USAO - Michigan, Eastern\",\n    label: \"USAO - Michigan, Eastern\",\n  },\n  {\n    value: \"USAO - Florida, Southern\",\n    label: \"USAO - Florida, Southern\",\n  },\n  {\n    value: \"Office of the Deputy Attorney General\",\n    label: \"Office of the Deputy Attorney General\",\n  },\n  {\n    value: \"USAO - Louisiana, Western\",\n    label: \"USAO - Louisiana, Western\",\n  },\n  {\n    value: \"USAO - Florida, Northern\",\n    label: \"USAO - Florida, Northern\",\n  },\n  {\n    value: \"Civil Rights - Special Litigation Section\",\n    label: \"Civil Rights - Special Litigation Section\",\n  },\n  { value: \"USAO - New Mexico\", label: \"USAO - New Mexico\" },\n  {\n    value: \"U.S. Parole Commission\",\n    label: \"U.S. Parole Commission\",\n  },\n  { value: \"Criminal Division\", label: \"Criminal Division\" },\n  {\n    value: \"Civil Rights - Criminal Section\",\n    label: \"Civil Rights - Criminal Section\",\n  },\n  {\n    value: \"USAO - Texas, Eastern\",\n    label: \"USAO - Texas, Eastern\",\n  },\n  {\n    value: \"USAO - Louisiana, Eastern\",\n    label: \"USAO - Louisiana, Eastern\",\n  },\n  {\n    value: \"National Security Division (NSD)\",\n    label: \"National Security Division (NSD)\",\n  },\n  {\n    value: \"USAO - Iowa, Southern\",\n    label: \"USAO - Iowa, Southern\",\n  },\n  {\n    value: \"USAO - Texas, Western\",\n    label: \"USAO - Texas, Western\",\n  },\n  {\n    value: \"USAO - Georgia, Southern\",\n    label: \"USAO - Georgia, Southern\",\n  },\n  {\n    value: \"USAO - Wisconsin, Western\",\n    label: \"USAO - Wisconsin, Western\",\n  },\n  {\n    value: \"Office of the Attorney General\",\n    label: \"Office of the Attorney General\",\n  },\n  {\n    value: \"Office of Public Affairs\",\n    label: \"Office of Public Affairs\",\n  },\n  {\n    value: \"Community Relations Service\",\n    label: \"Community Relations Service\",\n  },\n  {\n    value: \"Executive Office for U.S. Trustees\",\n    label: \"Executive Office for U.S. Trustees\",\n  },\n  { value: \"USAO - Wyoming\", label: \"USAO - Wyoming\" },\n  {\n    value: \"USAO - Ohio, Northern\",\n    label: \"USAO - Ohio, Northern\",\n  },\n  { value: \"USAO - Nebraska\", label: \"USAO - Nebraska\" },\n  {\n    value: \"U.S. Marshals Service\",\n    label: \"U.S. Marshals Service\",\n  },\n  {\n    value: \"USAO - Kentucky, Western\",\n    label: \"USAO - Kentucky, Western\",\n  },\n  {\n    value: \"USAO - North Carolina, Eastern\",\n    label: \"USAO - North Carolina, Eastern\",\n  },\n  {\n    value: \"USAO - California, Southern\",\n    label: \"USAO - California, Southern\",\n  },\n  {\n    value: \"USAO - Michigan, Western\",\n    label: \"USAO - Michigan, Western\",\n  },\n  { value: \"USAO - Idaho\", label: \"USAO - Idaho\" },\n  { value: \"USAO - Puerto Rico\", label: \"USAO - Puerto Rico\" },\n  {\n    value: \"USAO - California, Eastern\",\n    label: \"USAO - California, Eastern\",\n  },\n  {\n    value: \"Criminal - Child Exploitation and Obscenity Section\",\n    label: \"Criminal - Child Exploitation and Obscenity Section\",\n  },\n  {\n    value: \"USAO - Washington, Eastern\",\n    label: \"USAO - Washington, Eastern\",\n  },\n  {\n    value: \"Civil Rights - Appellate Section\",\n    label: \"Civil Rights - Appellate Section\",\n  },\n  {\n    value: \"USAO - Virgin Islands\",\n    label: \"USAO - Virgin Islands\",\n  },\n  {\n    value: \"USAO - Alabama, Southern\",\n    label: \"USAO - Alabama, Southern\",\n  },\n  {\n    value: \"Office of Juvenile Justice and Delinquency Prevention (OJJDP)\",\n    label: \"Office of Juvenile Justice and Delinquency Prevention (OJJDP)\",\n  },\n  {\n    value: \"USAO - California, Northern\",\n    label: \"USAO - California, Northern\",\n  },\n  {\n    value: \"USAO - New York, Northern\",\n    label: \"USAO - New York, Northern\",\n  },\n  { value: \"USAO - Arizona\", label: \"USAO - Arizona\" },\n  {\n    value: \"Office of Legal Policy\",\n    label: \"Office of Legal Policy\",\n  },\n  {\n    value: \"USAO - West Virginia, Southern\",\n    label: \"USAO - West Virginia, Southern\",\n  },\n  {\n    value: \"Civil Rights Division\",\n    label: \"Civil Rights Division\",\n  },\n  {\n    value: \"USAO - West Virginia, Northern\",\n    label: \"USAO - West Virginia, Northern\",\n  },\n  {\n    value: \"USAO - Tennessee, Eastern\",\n    label: \"USAO - Tennessee, Eastern\",\n  },\n  { value: \"Civil Division\", label: \"Civil Division\" },\n  {\n    value: \"Office for Victims of Crime (OJP)\",\n    label: \"Office for Victims of Crime (OJP)\",\n  },\n  {\n    value: \"USAO - Iowa, Northern\",\n    label: \"USAO - Iowa, Northern\",\n  },\n  {\n    value: \"USAO - Illinois, Southern\",\n    label: \"USAO - Illinois, Southern\",\n  },\n  {\n    value: \"USAO - New York, Southern\",\n    label: \"USAO - New York, Southern\",\n  },\n  {\n    value: \"USAO - Illinois, Central\",\n    label: \"USAO - Illinois, Central\",\n  },\n  { value: \"USAO - Hawaii\", label: \"USAO - Hawaii\" },\n  {\n    value: \"USAO - Alabama, Northern\",\n    label: \"USAO - Alabama, Northern\",\n  },\n  {\n    value: \"U.S. Attorneys (USAO)\",\n    label: \"U.S. Attorneys (USAO)\",\n  },\n  {\n    value: \"USAO - Florida, Middle\",\n    label: \"USAO - Florida, Middle\",\n  },\n  { value: \"Antitrust Division\", label: \"Antitrust Division\" },\n  { value: \"USAO - Kansas\", label: \"USAO - Kansas\" },\n  { value: \"USAO - Maine\", label: \"USAO - Maine\" },\n  { value: \"USAO - Connecticut\", label: \"USAO - Connecticut\" },\n  {\n    value: \"Criminal - Criminal Fraud Section\",\n    label: \"Criminal - Criminal Fraud Section\",\n  },\n  {\n    value: \"Community Oriented Policing Services (COPS)\",\n    label: \"Community Oriented Policing Services (COPS)\",\n  },\n  {\n    value: \"USAO - Mississippi, Northern\",\n    label: \"USAO - Mississippi, Northern\",\n  },\n  {\n    value: \"Criminal Investigative Division (FBI)\",\n    label: \"Criminal Investigative Division (FBI)\",\n  },\n  {\n    value: \"USAO - Arkansas, Eastern\",\n    label: \"USAO - Arkansas, Eastern\",\n  },\n  {\n    value: \"USAO - Mississippi, Southern\",\n    label: \"USAO - Mississippi, Southern\",\n  },\n  {\n    value: \"Bureau of Alcohol, Tobacco, Firearms and Explosives (ATF)\",\n    label: \"Bureau of Alcohol, Tobacco, Firearms and Explosives (ATF)\",\n  },\n  {\n    value: \"USAO - Kentucky, Eastern\",\n    label: \"USAO - Kentucky, Eastern\",\n  },\n  {\n    value: \"Office of Justice Programs (OJP)\",\n    label: \"Office of Justice Programs (OJP)\",\n  },\n  {\n    value: \"Federal Bureau of Prisons (BOP)\",\n    label: \"Federal Bureau of Prisons (BOP)\",\n  },\n  {\n    value: \"Office of Tribal Justice\",\n    label: \"Office of Tribal Justice\",\n  },\n  {\n    value: \"Civil Rights - Employment Litigation Section\",\n    label: \"Civil Rights - Employment Litigation Section\",\n  },\n  {\n    value: \"Office of the Inspector General\",\n    label: \"Office of the Inspector General\",\n  },\n  {\n    value: \"USAO - Oklahoma, Northern\",\n    label: \"USAO - Oklahoma, Northern\",\n  },\n  {\n    value: \"Department of Justice\",\n    label: \"Department of Justice\",\n  },\n  {\n    value: \"Office on Violence Against Women\",\n    label: \"Office on Violence Against Women\",\n  },\n  {\n    value: \"Drug Enforcement Administration (DEA)\",\n    label: \"Drug Enforcement Administration (DEA)\",\n  },\n  {\n    value: \"USAO - Pennsylvania, Eastern\",\n    label: \"USAO - Pennsylvania, Eastern\",\n  },\n  {\n    value: \"Civil Rights - Disability Rights Section\",\n    label: \"Civil Rights - Disability Rights Section\",\n  },\n  {\n    value: \"Justice Management Division\",\n    label: \"Justice Management Division\",\n  },\n  {\n    value: \"Office of Legal Counsel\",\n    label: \"Office of Legal Counsel\",\n  },\n  { value: \"USAO - Oregon\", label: \"USAO - Oregon\" },\n  { value: \"USAO - Maryland\", label: \"USAO - Maryland\" },\n  { value: \"USAO - Delaware\", label: \"USAO - Delaware\" },\n  { value: \"USAO - Nevada\", label: \"USAO - Nevada\" },\n  { value: \"U.S. Trustee Program\", label: \"U.S. Trustee Program\" },\n  {\n    value: \"USAO - Tennessee, Western\",\n    label: \"USAO - Tennessee, Western\",\n  },\n  {\n    value: \"Office of Information Policy\",\n    label: \"Office of Information Policy\",\n  },\n  {\n    value: \"Office of Legislative Affairs\",\n    label: \"Office of Legislative Affairs\",\n  },\n  { value: \"USAO - New Jersey\", label: \"USAO - New Jersey\" },\n  {\n    value: \"USAO - Pennsylvania, Western\",\n    label: \"USAO - Pennsylvania, Western\",\n  },\n  {\n    value: \"USAO - South Carolina\",\n    label: \"USAO - South Carolina\",\n  },\n  { value: \"USAO - South Dakota\", label: \"USAO - South Dakota\" },\n  { value: \"USAO - North Dakota\", label: \"USAO - North Dakota\" },\n  {\n    value: \"Environment and Natural Resources Division\",\n    label: \"Environment and Natural Resources Division\",\n  },\n  {\n    value: \"Office of the Associate Attorney General\",\n    label: \"Office of the Associate Attorney General\",\n  },\n  {\n    value: \"USAO - Texas, Northern\",\n    label: \"USAO - Texas, Northern\",\n  },\n  {\n    value: \"Office of the Solicitor General\",\n    label: \"Office of the Solicitor General\",\n  },\n  {\n    value: \"Civil Rights - Immigrant and Employee Rights Section\",\n    label: \"Civil Rights - Immigrant and Employee Rights Section\",\n  },\n  {\n    value: \"USAO - Indiana, Southern\",\n    label: \"USAO - Indiana, Southern\",\n  },\n  {\n    value: \"USAO - Pennsylvania, Middle\",\n    label: \"USAO - Pennsylvania, Middle\",\n  },\n  {\n    value: \"National Institute of Justice (OJP)\",\n    label: \"National Institute of Justice (OJP)\",\n  },\n  {\n    value: \"Civil Rights - Federal Coordination and Compliance Section\",\n    label: \"Civil Rights - Federal Coordination and Compliance Section\",\n  },\n  {\n    value: \"USAO - Illinois, Northern\",\n    label: \"USAO - Illinois, Northern\",\n  },\n  {\n    value: \"USAO - Guam & Northern Mariana Islands\",\n    label: \"USAO - Guam & Northern Mariana Islands\",\n  },\n  {\n    value: \"Federal Bureau of Investigation (FBI)\",\n    label: \"Federal Bureau of Investigation (FBI)\",\n  },\n].sort((a, b) => a.label.toLowerCase().localeCompare(b.label.toLowerCase()));\nexport const TOPICS = [\n  {\n    value: \"Project Safe Neighborhoods\",\n    label: \"Project Safe Neighborhoods\",\n  },\n  { value: \"Prescription Drugs\", label: \"Prescription Drugs\" },\n  { value: \"False Claims Act\", label: \"False Claims Act\" },\n  { value: \"Elder Justice\", label: \"Elder Justice\" },\n  { value: \"Antitrust\", label: \"Antitrust\" },\n  { value: \"Immigration\", label: \"Immigration\" },\n  { value: \"Foreign Corruption\", label: \"Foreign Corruption\" },\n  { value: \"Consumer Protection\", label: \"Consumer Protection\" },\n  { value: \"Financial Fraud\", label: \"Financial Fraud\" },\n  { value: \"Mortgage Fraud\", label: \"Mortgage Fraud\" },\n  { value: \"Asset Forfeiture\", label: \"Asset Forfeiture\" },\n  {\n    value: \"Servicemembers Initiative\",\n    label: \"Servicemembers Initiative\",\n  },\n  { value: \"Grants\", label: \"Grants\" },\n  { value: \"Labor & Employment\", label: \"Labor & Employment\" },\n  { value: \"Human Smuggling\", label: \"Human Smuggling\" },\n  { value: \"Violent Crime\", label: \"Violent Crime\" },\n  { value: \"Counterterrorism\", label: \"Counterterrorism\" },\n  { value: \"Cyber Crime\", label: \"Cyber Crime\" },\n  { value: \"Disaster Fraud\", label: \"Disaster Fraud\" },\n  {\n    value: \"Project Safe Childhood\",\n    label: \"Project Safe Childhood\",\n  },\n  { value: \"Opioids\", label: \"Opioids\" },\n  { value: \"Human Trafficking\", label: \"Human Trafficking\" },\n  { value: \"Wildlife\", label: \"Wildlife\" },\n  {\n    value: \"Office and Personnel Updates\",\n    label: \"Office and Personnel Updates\",\n  },\n  {\n    value: \"Intellectual Property\",\n    label: \"Intellectual Property\",\n  },\n  {\n    value: \"Securities, Commodities, & Investment Fraud\",\n    label: \"Securities, Commodities, & Investment Fraud\",\n  },\n  { value: \"Access to Justice\", label: \"Access to Justice\" },\n  { value: \"Firearms Offenses\", label: \"Firearms Offenses\" },\n  { value: \"Civil Rights\", label: \"Civil Rights\" },\n  { value: \"Hate Crimes\", label: \"Hate Crimes\" },\n  {\n    value: \"Indian Country Law and Justice\",\n    label: \"Indian Country Law and Justice\",\n  },\n  { value: \"Bankruptcy\", label: \"Bankruptcy\" },\n  { value: \"National Security\", label: \"National Security\" },\n  { value: \"Community Outreach\", label: \"Community Outreach\" },\n  { value: \"Identity Theft\", label: \"Identity Theft\" },\n  { value: \"Public Corruption\", label: \"Public Corruption\" },\n  { value: \"Environment\", label: \"Environment\" },\n  { value: \"Drug Trafficking\", label: \"Drug Trafficking\" },\n  {\n    value: \"Counterintelligence and Export Control\",\n    label: \"Counterintelligence and Export Control\",\n  },\n  { value: \"StopFraud\", label: \"StopFraud\" },\n  { value: \"Tax\", label: \"Tax\" },\n  { value: \"Health Care Fraud\", label: \"Health Care Fraud\" },\n].sort((a, b) => a.label.toLowerCase().localeCompare(b.label.toLowerCase()));\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { StyledSortDropdown } from \"../components/Dropdown\";\r\nimport { LowerDateField, UpperDateField } from \"../components/DateField\";\r\nimport { ResultCard } from \"../components/ResultCard\";\r\nimport { useHistory, useLocation } from \"react-router-dom\";\r\nimport { ExpandingMultiSelectDropdown } from \"../components/ExpansionPanel\";\r\nimport {\r\n  CalendarDiv,\r\n  CardsDiv, CenteredTypography,\r\n  DividerDiv,\r\n  FiltersDiv,\r\n  InfoDiv,\r\n  ResultsDiv,\r\n  SearchDiv,\r\n  StyledDivider,\r\n} from \"../components/StyledComponents\";\r\nimport { InfiniteScroll } from \"../components/InfiniteScroll\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport { SearchContext, generateQueryParams } from \"../search\";\r\nimport { useAuthenticatedIO } from \"../authenticated-io\";\r\nimport { TOPICS, COMPONENTS } from \"../globals\";\r\n\r\nexport function Search() {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const searchContext = useContext(SearchContext);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [results, setResults] = useState();\r\n  const io = useAuthenticatedIO();\r\n\r\n  useEffect(() => {\r\n    setResults(undefined);\r\n    setIsLoading(true);\r\n    io.search(searchContext.state).then((results) => {\r\n      setIsLoading(false);\r\n      setResults(results);\r\n    });\r\n  }, [location]);\r\n\r\n  function onScroll() {\r\n    if (results && results.docs.length < results.numFound && !isLoading) {\r\n      setIsLoading(true);\r\n      io.search(searchContext.state, results.docs.length).then((results) => {\r\n        setIsLoading(false);\r\n        setResults((s) => ({\r\n          ...s,\r\n          docs: [...s.docs, ...results.docs],\r\n        }));\r\n      });\r\n    }\r\n  }\r\n\r\n  function onComponentChange(checked, el) {\r\n    const new_state = {\r\n      ...searchContext.state,\r\n      components: checked\r\n        ? [...searchContext.state.components, el.value]\r\n        : searchContext.state.components.filter((e) => e !== el.value),\r\n    };\r\n    searchContext.setState(new_state);\r\n    history.push(`/search?${generateQueryParams(new_state)}`);\r\n  }\r\n\r\n  function onTopicChange(checked, el) {\r\n    const new_state = {\r\n      ...searchContext.state,\r\n      topics: checked\r\n        ? [...searchContext.state.topics, el.value]\r\n        : searchContext.state.topics.filter((e) => e !== el.value),\r\n    };\r\n    searchContext.setState(new_state);\r\n    history.push(`/search?${generateQueryParams(new_state)}`);\r\n  }\r\n\r\n  return (\r\n    <SearchDiv>\r\n      <DividerDiv>\r\n        <FiltersDiv>\r\n          <CenteredTypography variant=\"h5\">Limit your search:</CenteredTypography>\r\n\r\n          <ExpandingMultiSelectDropdown\r\n            title=\"Component\"\r\n            values={COMPONENTS}\r\n            context={searchContext.state.components}\r\n            elementSelected={onComponentChange}\r\n          />\r\n          <ExpandingMultiSelectDropdown\r\n            title=\"Topic\"\r\n            values={TOPICS}\r\n            context={searchContext.state.topics}\r\n            elementSelected={onTopicChange}\r\n          />\r\n          <CalendarDiv>\r\n            <UpperDateField\r\n              placeholder=\"Date from\"\r\n              value={\r\n                (searchContext.state.dateFrom &&\r\n                  new Date(searchContext.state.dateFrom)) ||\r\n                null\r\n              }\r\n              onDateChange={(date) => {\r\n                const new_state = {\r\n                  ...searchContext.state,\r\n                  dateFrom: date ? date.toISOString() : null,\r\n                };\r\n                searchContext.setState(new_state);\r\n                history.push(`/search?${generateQueryParams(new_state)}`);\r\n              }}\r\n            />\r\n            <StyledDivider />\r\n            <LowerDateField\r\n              placeholder=\"Date to\"\r\n              value={\r\n                (searchContext.state.dateTo &&\r\n                  new Date(searchContext.state.dateTo)) ||\r\n                null\r\n              }\r\n              onDateChange={(date) => {\r\n                const new_state = {\r\n                  ...searchContext.state,\r\n                  dateTo: date ? date.toISOString() : null,\r\n                };\r\n                searchContext.setState(new_state);\r\n                history.push(`/search?${generateQueryParams(new_state)}`);\r\n              }}\r\n            />\r\n          </CalendarDiv>\r\n        </FiltersDiv>\r\n        <Divider orientation=\"vertical\" />\r\n      </DividerDiv>\r\n      <ResultsDiv>\r\n        <InfoDiv>\r\n          <CenteredTypography variant=\"h5\">\r\n            {results && <> {results.numFound} results found</>}\r\n          </CenteredTypography>\r\n          <StyledSortDropdown\r\n            values={[\r\n              { value: \" \", label: \"Sort by relevance\" },\r\n              { value: \"title asc\", label: \"Sort by title\" },\r\n              { value: \"date asc\", label: \"Sort from newest\" },\r\n              { value: \"date desc\", label: \"Sort from oldest\" },\r\n            ]}\r\n            value={searchContext.state.sort || \" \"}\r\n            onChange={(event) => {\r\n              const value = event.target.value;\r\n              const new_state = {\r\n                ...searchContext.state,\r\n                sort: value,\r\n              };\r\n              searchContext.setState(new_state);\r\n              history.push(`/search?${generateQueryParams(new_state)}`);\r\n            }}\r\n          />\r\n        </InfoDiv>\r\n        <CardsDiv>\r\n          <InfiniteScroll isLoading={isLoading} callback={onScroll}>\r\n            <>\r\n              {results &&\r\n                results.docs.map((el, idx) => (\r\n                  <ResultCard\r\n                    {...el}\r\n                    key={el.id}\r\n                    onFavouriteClick={() => {\r\n                      setResults((s) => {\r\n                        const newState = { ...s, docs: [...s.docs] };\r\n                        newState.docs[idx].isFavourite = !newState.docs[idx]\r\n                          .isFavourite;\r\n                        io.changeFavourite(el.id);\r\n                        return newState;\r\n                      });\r\n                    }}\r\n                    onShowMoreClick={() => {\r\n                      history.push(`/document/\"${el.id}\"`);\r\n                    }}\r\n                  />\r\n                ))}\r\n            </>\r\n          </InfiniteScroll>\r\n        </CardsDiv>\r\n      </ResultsDiv>\r\n    </SearchDiv>\r\n  );\r\n}\r\n","import React, { useContext, useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { IconButton, Typography } from \"@material-ui/core\";\r\nimport { SearchContext, generateQueryParams } from \"../search\";\r\nimport {\r\n    CenteredTypography,\r\n    StyledBackButton,\r\n    StyledElementButton,\r\n    YellowStarIcon,\r\n} from \"../components/StyledComponents\";\r\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\r\nimport { useAuthenticatedIO } from \"../authenticated-io\";\r\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\r\n\r\nconst DocumentDiv = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 70fr 30fr;\r\n  grid-template-rows: auto;\r\n  grid-template-areas: \"text info\";\r\n  margin-right: 128px;\r\n`;\r\n\r\nconst TextDiv = styled.div`\r\n  grid-area: text;\r\n  background: E5E5E5;\r\n  margin-top: 16px;\r\n`;\r\n\r\nconst InfoDiv = styled.div`\r\n  background: E5E5E5;\r\n  grid-area: info;\r\n  display: flex;\r\n  flex-direction: column;\r\n`;\r\n\r\nexport function Document(props) {\r\n  const history = useHistory();\r\n  const searchContext = useContext(SearchContext);\r\n  const [result, setResult] = useState();\r\n  const io = useAuthenticatedIO();\r\n\r\n  useEffect(() => {\r\n    if (!result) {\r\n      setResult(\"loading\");\r\n      io.getDocuments([props.id]).then((result) => setResult(result.docs[0]));\r\n    }\r\n  }, [result]);\r\n\r\n  if (!result || result === \"loading\") return null;\r\n\r\n  return (\r\n      <DocumentDiv>\r\n        <TextDiv>\r\n          <Typography variant=\"h3\">\r\n            {result.title}\r\n            <IconButton\r\n                onClick={() => {\r\n                  setResult((s) => {\r\n                    const newState = {...s};\r\n                    newState.isFavourite = !newState.isFavourite;\r\n                    io.changeFavourite(result.id);\r\n                    return newState;\r\n                  });\r\n                }}\r\n            >\r\n              {result.isFavourite ? (\r\n                  <YellowStarIcon fontSize=\"large\"/>\r\n              ) : (\r\n                  <StarBorderIcon fontSize=\"large\"/>\r\n              )}\r\n            </IconButton>\r\n          </Typography>\r\n\r\n          <Typography>{result.contents}</Typography>\r\n        </TextDiv>\r\n        <InfoDiv>\r\n          <StyledBackButton\r\n              variant=\"contained\"\r\n              color=\"secondary\"\r\n              startIcon={<ArrowBackIcon/>}\r\n              onClick={() => {\r\n                history.push(`/search?${generateQueryParams(searchContext.state)}`);\r\n              }}\r\n          >\r\n            Back to search results\r\n          </StyledBackButton>\r\n\r\n          {result.components?.length > 0 && (\r\n              <CenteredTypography variant=\"h5\">Components</CenteredTypography>\r\n          )}\r\n          {result.components?.map((el) => (\r\n              <StyledElementButton\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={() => {\r\n                    searchContext.setState(() => ({\r\n                      query: \"\",\r\n                      field: \"*\",\r\n                      sort: \" \",\r\n                      topics: [],\r\n                      components: [el],\r\n                      dateTo: null,\r\n                      dateFrom: null,\r\n                    }));\r\n                    history.push(\r\n                        `/search?${generateQueryParams(searchContext.state)}`\r\n                    );\r\n                  }}\r\n              >\r\n                {el}\r\n              </StyledElementButton>\r\n          ))}\r\n\r\n          {result.topics?.length > 0 && (\r\n              <CenteredTypography variant=\"h5\">Topics</CenteredTypography>\r\n          )}\r\n          {result.topics?.map((el) => (\r\n              <StyledElementButton\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={() => {\r\n                    searchContext.setState(() => ({\r\n                      query: \"\",\r\n                      field: \"*\",\r\n                      sort: \" \",\r\n                      topics: [el],\r\n                      components: [],\r\n                      dateTo: null,\r\n                      dateFrom: null,\r\n                    }));\r\n                    history.push(\r\n                        `/search?${generateQueryParams(searchContext.state)}`\r\n                    );\r\n                  }}\r\n              >\r\n                {el}\r\n              </StyledElementButton>\r\n          ))}\r\n        </InfoDiv>\r\n      </DocumentDiv>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport { ResultCard } from \"../components/ResultCard\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n    CardsDiv, CenteredTypography,\r\n    FavouritesDiv,\r\n    InfoDiv,\r\n} from \"../components/StyledComponents\";\r\nimport { useAuthenticatedIO } from \"../authenticated-io\";\r\nimport { InfiniteScroll } from \"../components/InfiniteScroll\";\r\n\r\nconst PAGE_SIZE = 10;\r\n\r\nexport function FavouriteList() {\r\n    const history = useHistory();\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [stars, setStars] = useState();\r\n    const [page, setPage] = useState(0);\r\n    const [results, setResults] = useState();\r\n    const io = useAuthenticatedIO();\r\n\r\n    useEffect(() => {\r\n        if (!stars) {\r\n            setIsLoading(true);\r\n            io.getFavourites().then((results) => {\r\n                const newStars = results.map((star) => `\"${star.doc_id}\"`);\r\n                setStars(newStars);\r\n                io.getDocuments(\r\n                    newStars.slice(\r\n                        page * PAGE_SIZE,\r\n                        Math.max(newStars.length, (page + 1) * PAGE_SIZE)\r\n                    )\r\n                ).then((results) => {\r\n                    setResults(results);\r\n                    setPage((s) => s + 1);\r\n                    setIsLoading(false);\r\n                });\r\n            });\r\n        }\r\n    }, [stars]);\r\n\r\n    return (\r\n        <FavouritesDiv>\r\n            <InfoDiv>\r\n                <CenteredTypography variant=\"h5\">\r\n                    {results && !isLoading && <> {results.numFound} results found</>}\r\n                </CenteredTypography>\r\n            </InfoDiv>\r\n            <CardsDiv>\r\n                <InfiniteScroll\r\n                    isLoading={isLoading}\r\n                    callback={() => {\r\n                        setIsLoading(true);\r\n                        io.getDocuments(\r\n                            stars.slice(\r\n                                page * PAGE_SIZE,\r\n                                Math.max(stars.length, (page + 1) * PAGE_SIZE)\r\n                            )\r\n                        ).then((results) => {\r\n                            setIsLoading(false);\r\n                            setResults((s) => ({\r\n                                ...s,\r\n                                docs: [...s.docs, ...results.docs],\r\n                            }));\r\n                            setPage((s) => s + 1);\r\n                        });\r\n                    }}\r\n                >\r\n                    <>\r\n                        {results &&\r\n                        results.docs.map((el, idx) => (\r\n                                <ResultCard\r\n                                    {...el}\r\n                                    key={el.id}\r\n                                    onFavouriteClick={() => {\r\n                                        setResults((s) => {\r\n                                            const newState = {...s, docs: [...s.docs]};\r\n                                            newState.numFound = newState.numFound - 1\r\n                                            newState.docs[idx].isFavourite = !newState.docs[idx].isFavourite;\r\n                                            newState.docs = newState.docs.filter((el) => el.isFavourite)\r\n                                            io.changeFavourite(el.id);\r\n                                            return newState;\r\n                                        });\r\n                                    }}\r\n                                    onShowMoreClick={() => {\r\n                                        history.push(`/document/\"${el.id}\"`);\r\n                                    }}\r\n                                />\r\n                            ))}\r\n                    </>\r\n                </InfiniteScroll>\r\n            </CardsDiv>\r\n        </FavouritesDiv>\r\n    );\r\n}\r\n","import React, { useState, useContext } from \"react\";\r\nimport { AuthenticationContext } from \"../auth\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport LinkStyle from \"@material-ui/core/Link\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Box from \"@material-ui/core/Box\";\r\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nexport function Register() {\r\n    const authContext = useContext(AuthenticationContext);\r\n    const history = useHistory();\r\n    const [auth, setAuth] = useState({\r\n        username: \"\",\r\n        password: \"\",\r\n        last_name: \"\",\r\n        first_name: \"\",\r\n        email: \"\",\r\n    });\r\n\r\n    function Copyright() {\r\n        return (\r\n            <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n                {\"Copyright © \"}\r\n                <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n                    SWI project\r\n                </Link>\r\n                {new Date().getFullYear()}\r\n            </Typography>\r\n        );\r\n    }\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        paper: {\r\n            marginTop: theme.spacing(8),\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n        },\r\n        avatar: {\r\n            margin: theme.spacing(1),\r\n            backgroundColor: theme.palette.secondary.main,\r\n        },\r\n        form: {\r\n            width: \"100%\", // Fix IE 11 issue.\r\n            marginTop: theme.spacing(3),\r\n        },\r\n        submit: {\r\n            margin: theme.spacing(3, 0, 2),\r\n        },\r\n    }));\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Container component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline/>\r\n            <div className={classes.paper}>\r\n                <Avatar className={classes.avatar}>\r\n                    <LockOutlinedIcon/>\r\n                </Avatar>\r\n                <Typography component=\"h1\" variant=\"h5\">\r\n                    Sign up\r\n                </Typography>\r\n                <form\r\n                    className={classes.form}\r\n                    noValidate\r\n                    onSubmit={(event) => {\r\n                        fetch(`/api/register`, {\r\n                            method: \"POST\",\r\n                            body: JSON.stringify(auth),\r\n                            headers: [[\"Content-Type\", \"application/json\"]],\r\n                        })\r\n                            .then((res) => res.json())\r\n                            .then((res) => {\r\n                                setAuth({username: \"\", password: \"\"});\r\n                                authContext.setToken(res.token);\r\n                                history.push(\"/search\");\r\n                            })\r\n                            .catch(() => {\r\n                                // setError\r\n                            });\r\n\r\n                        event.preventDefault();\r\n                    }}\r\n                >\r\n                    <Grid container spacing={2}>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                id=\"username\"\r\n                                label=\"Username\"\r\n                                name=\"username\"\r\n                                autoComplete=\"username\"\r\n                                autoFocus\r\n                                value={auth.username}\r\n                                onChange={(e) => {\r\n                                    const value = e.target.value;\r\n                                    setAuth((s) => ({...s, username: value}));\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                id=\"firstName\"\r\n                                label=\"First Name\"\r\n                                name=\"firstName\"\r\n                                autoComplete=\"fname\"\r\n                                autoFocus\r\n                                value={auth.first_name}\r\n                                onChange={(e) => {\r\n                                    console.log(auth);\r\n                                    const value = e.target.value;\r\n                                    setAuth((s) => ({...s, first_name: value}));\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={6}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                id=\"lastName\"\r\n                                label=\"Last Name\"\r\n                                name=\"lastName\"\r\n                                autoComplete=\"lname\"\r\n                                value={auth.last_name}\r\n                                onChange={(e) => {\r\n                                    const value = e.target.value;\r\n                                    setAuth((s) => ({...s, last_name: value}));\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                id=\"email\"\r\n                                label=\"Email Address\"\r\n                                name=\"email\"\r\n                                autoComplete=\"email\"\r\n                                value={auth.email}\r\n                                onChange={(e) => {\r\n                                    const value = e.target.value;\r\n                                    setAuth((s) => ({...s, email: value}));\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <TextField\r\n                                variant=\"outlined\"\r\n                                required\r\n                                fullWidth\r\n                                name=\"password\"\r\n                                label=\"Password\"\r\n                                type=\"password\"\r\n                                id=\"password\"\r\n                                autoComplete=\"current-password\"\r\n                                value={auth.password}\r\n                                onChange={(e) => {\r\n                                    const value = e.target.value;\r\n                                    setAuth((s) => ({...s, password: value}));\r\n                                }}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                    >\r\n                        Sign Up\r\n                    </Button>\r\n                    <Grid container justify=\"flex-end\">\r\n                        <Grid item>\r\n                            <LinkStyle variant=\"body2\">\r\n                                <Link to=\"/login\">Already have an account? Sign in</Link>\r\n                            </LinkStyle>\r\n                        </Grid>\r\n                    </Grid>\r\n                </form>\r\n            </div>\r\n            <Box mt={5}>\r\n                <Copyright/>\r\n            </Box>\r\n        </Container>\r\n    );\r\n}\r\n","import React, { useContext, useState } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport { AuthenticationContext } from \"../auth\";\nimport { SearchContext } from \"../search\";\nimport { Login } from \"./Login\";\nimport { Header } from \"../components/Header\";\nimport { UserBar } from \"../components/UserBar\";\nimport \"./style.css\";\nimport { Search } from \"./Search\";\nimport { Document } from \"./Document\";\nimport { FavouriteList } from \"./FavouriteList\";\nimport { MuiThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport styled from \"styled-components\";\nimport { Register } from \"./Register\";\nimport { getInitSearchState } from \"../search\";\n\nexport function AuthenticatedRoutes() {\n  const auth = useContext(AuthenticationContext);\n\n  const [searchState, setSearchState] = useState(\n      getInitSearchState(window.location.search)\n  );\n\n  const theme = createMuiTheme({\n    palette: {\n      primary: {\n        main: \"#606060\",\n      },\n      secondary: {\n        main: \"#584DDE\",\n      },\n    },\n  });\n\n  return (\n      <MuiThemeProvider theme={theme}>\n        <Router>\n          {auth.token ? (\n              <SearchContext.Provider\n                  value={{\n                    state: searchState,\n                    setState: setSearchState,\n                  }}\n              >\n                <Switch>\n                  <Route path=\"/search\">\n                    <GridLayout>\n                      <Search/>\n                    </GridLayout>\n                  </Route>\n                  <Route\n                      path=\"/document/:id\"\n                      render={(props) => (\n                          <GridLayout>\n                            <Document id={props.match.params.id}/>\n                          </GridLayout>\n                      )}\n                  ></Route>\n                  <Route path=\"/favourite\">\n                    <GridLayout>\n                      <FavouriteList/>\n                    </GridLayout>\n                  </Route>\n                  <Route path=\"*\">\n                    <Redirect to=\"/search\"/>\n                  </Route>\n                </Switch>\n              </SearchContext.Provider>\n          ) : (\n              <Switch>\n                <Route path=\"/login\">\n                  <Login/>\n                </Route>\n                <Route path=\"/register\">\n                  <Register/>\n                </Route>\n                <Route path=\"*\">\n                  <Redirect to=\"/login\"/>\n                </Route>\n              </Switch>\n          )}\n        </Router>\n      </MuiThemeProvider>\n  );\n}\n\nconst GridLayoutDiv = styled.div`\n  height: 100vh;\n  width: 100vw;\n  display: grid;\n  grid-template-columns: 5fr 95fr;\n  grid-template-rows: 10fr 90fr;\n  grid-template-areas:\n    \"user header\"\n    \"user content\";\n`;\n\nfunction GridLayout(props) {\n  return (\n      <GridLayoutDiv>\n        <Header/>\n        <UserBar/>\n        {props.children}\n      </GridLayoutDiv>\n  );\n}\n","import React, { useState } from \"react\";\nimport \"./App.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { AuthenticationContext } from \"./auth\";\nimport { AuthenticatedRoutes } from \"./views/authenticated-routes\";\n\nfunction App() {\n  const [token, setToken] = useState(\n    window.localStorage.getItem(\"TOKEN\") || \"\"\n  );\n  return (\n    <div className=\"App\">\n      <AuthenticationContext.Provider\n        value={{\n          token,\n          setToken: (token) => {\n            setToken(token);\n            window.localStorage.setItem(\"TOKEN\", token);\n          },\n        }}\n      >\n        <AuthenticatedRoutes />\n      </AuthenticationContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}